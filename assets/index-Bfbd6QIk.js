var zu=Object.defineProperty;var Iu=(e,r,t)=>r in e?zu(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var ot=(e,r,t)=>Iu(e,typeof r!="symbol"?r+"":r,t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(i){if(i.ep)return;i.ep=!0;const u=t(i);fetch(i.href,u)}})();function vt(){return vt=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},vt.apply(null,arguments)}var ii={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null,legacySubset:!1};function Ou(e,r){if(Dt(e,r))return e[r];throw typeof e[r]=="function"&&qu(e,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function Pu(e,r,t){if(Dt(e,r))return e[r]=t,t;throw new Error('No access to property "'+r+'"')}function Dt(e,r){return!Ru(e)&&!Array.isArray(e)?!1:kr($u,r)?!0:!(r in Object.prototype||r in Function.prototype)}function qu(e,r){return e==null||typeof e[r]!="function"||kr(e,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(e)?!1:kr(Lu,r)?!0:!(r in Object.prototype||r in Function.prototype)}function Ru(e){return typeof e=="object"&&e&&e.constructor===Object}var $u={length:!0,name:!0},Lu={toString:!0,valueOf:!0,toLocaleString:!0};class Uu{constructor(r){this.wrappedObject=r,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(r=>this.has(r)).values()}get(r){return Ou(this.wrappedObject,r)}set(r,t){return Pu(this.wrappedObject,r,t),this}has(r){return Dt(this.wrappedObject,r)&&r in this.wrappedObject}entries(){return Hu(this.keys(),r=>[r,this.get(r)])}forEach(r){for(var t of this.keys())r(this.get(t),t,this)}delete(r){Dt(this.wrappedObject,r)&&delete this.wrappedObject[r]}clear(){for(var r of this.keys())this.delete(r)}get size(){return Object.keys(this.wrappedObject).length}}function Hu(e,r){return{next:()=>{var t=e.next();return t.done?t:{value:r(t.value),done:!1}}}}function De(e){return typeof e=="number"}function qe(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Zu(e){return typeof e=="bigint"}function ui(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function ai(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function oi(e){return e&&e.constructor.prototype.isUnit===!0||!1}function cr(e){return typeof e=="string"}var Be=Array.isArray;function Ne(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function pt(e){return Array.isArray(e)||Ne(e)}function si(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function fi(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Vu(e){return e&&e.constructor.prototype.isRange===!0||!1}function en(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Yu(e){return typeof e=="boolean"}function Ju(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Gu(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Xu(e){return typeof e=="function"}function Ku(e){return e instanceof Date}function Qu(e){return e instanceof RegExp}function rn(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!ui(e)&&!ai(e))}function Wu(e){return e?e instanceof Map||e instanceof Uu||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function ku(e){return e===null}function ju(e){return e===void 0}function ea(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function ra(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function ta(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function na(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function ia(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function ua(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function aa(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function oa(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function sa(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function fa(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function ca(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function la(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function ha(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function va(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Da(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function pa(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function da(e){return e&&e.constructor.prototype.isChain===!0||!1}function Fr(e){var r=typeof e;return r==="object"?e===null?"null":qe(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":r}function Se(e){var r=typeof e;if(r==="number"||r==="bigint"||r==="string"||r==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(t){return Se(t)});if(e instanceof Date)return new Date(e.valueOf());if(qe(e))return e;if(rn(e))return ga(e,Se);if(r==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function ga(e,r){var t={};for(var n in e)kr(e,n)&&(t[n]=r(e[n]));return t}function ma(e,r){for(var t in r)kr(r,t)&&(e[t]=r[t]);return e}function Cr(e,r){var t,n,i;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(n=0,i=e.length;n<i;n++)if(!Cr(e[n],r[n]))return!1;return!0}else{if(typeof e=="function")return e===r;if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(t in e)if(!(t in r)||!Cr(e[t],r[t]))return!1;for(t in r)if(!(t in e))return!1;return!0}else return e===r}}function kr(e,r){return e&&Object.hasOwnProperty.call(e,r)}function wa(e,r){for(var t={},n=0;n<r.length;n++){var i=r[n],u=e[i];u!==void 0&&(t[i]=u)}return t}var ya=["Matrix","Array"],Aa=["number","BigNumber","bigint","Fraction"],Nr=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(ii)};vt(Nr,ii,{MATRIX_OPTIONS:ya,NUMBER_OPTIONS:Aa});function pn(){return!0}function je(){return!1}function Or(){}const dn="Argument is not a typed-function.";function ci(){function e(S){return typeof S=="object"&&S!==null&&S.constructor===Object}const r=[{name:"number",test:function(S){return typeof S=="number"}},{name:"string",test:function(S){return typeof S=="string"}},{name:"boolean",test:function(S){return typeof S=="boolean"}},{name:"Function",test:function(S){return typeof S=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(S){return S instanceof Date}},{name:"RegExp",test:function(S){return S instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(S){return S===null}},{name:"undefined",test:function(S){return S===void 0}}],t={name:"any",test:pn,isAny:!0};let n,i,u=0,a={createCount:0};function s(S){const M=n.get(S);if(M)return M;let T='Unknown type "'+S+'"';const q=S.toLowerCase();let U;for(U of i)if(U.toLowerCase()===q){T+='. Did you mean "'+U+'" ?';break}throw new TypeError(T)}function f(S){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const T=M?s(M).index:i.length,q=[];for(let $=0;$<S.length;++$){if(!S[$]||typeof S[$].name!="string"||typeof S[$].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const X=S[$].name;if(n.has(X))throw new TypeError('Duplicate type name "'+X+'"');q.push(X),n.set(X,{name:X,test:S[$].test,isAny:S[$].isAny,index:T+$,conversionsTo:[]})}const U=i.slice(T);i=i.slice(0,T).concat(q).concat(U);for(let $=T+q.length;$<i.length;++$)n.get(i[$]).index=$}function c(){n=new Map,i=[],u=0,f([t],!1)}c(),f(r);function h(){let S;for(S of i)n.get(S).conversionsTo=[];u=0}function o(S){const M=i.filter(T=>{const q=n.get(T);return!q.isAny&&q.test(S)});return M.length?M:["any"]}function v(S){return S&&typeof S=="function"&&"_typedFunctionData"in S}function D(S,M,T){if(!v(S))throw new TypeError(dn);const q=T&&T.exact,U=Array.isArray(M)?M.join(","):M,$=E(U),X=g($);if(!q||X in S.signatures){const we=S._typedFunctionData.signatureMap.get(X);if(we)return we}const Y=$.length;let K;if(q){K=[];let we;for(we in S.signatures)K.push(S._typedFunctionData.signatureMap.get(we))}else K=S._typedFunctionData.signatures;for(let we=0;we<Y;++we){const Ee=$[we],be=[];let Je;for(Je of K){const Ze=F(Je.params,we);if(!(!Ze||Ee.restParam&&!Ze.restParam)){if(!Ze.hasAny){const ur=m(Ze);if(Ee.types.some(ar=>!ur.has(ar.name)))continue}be.push(Je)}}if(K=be,K.length===0)break}let H;for(H of K)if(H.params.length<=Y)return H;throw new TypeError("Signature not found (signature: "+(S.name||"unnamed")+"("+g($,", ")+"))")}function d(S,M,T){return D(S,M,T).implementation}function l(S,M){const T=s(M);if(T.test(S))return S;const q=T.conversionsTo;if(q.length===0)throw new Error("There are no conversions to "+M+" defined.");for(let U=0;U<q.length;U++)if(s(q[U].from).test(S))return q[U].convert(S);throw new Error("Cannot convert "+S+" to "+M)}function g(S){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return S.map(T=>T.name).join(M)}function w(S){const M=S.indexOf("...")===0,q=(M?S.length>3?S.slice(3):"any":S).split("|").map(Y=>s(Y.trim()));let U=!1,$=M?"...":"";return{types:q.map(function(Y){return U=Y.isAny||U,$+=Y.name+"|",{name:Y.name,typeIndex:Y.index,test:Y.test,isAny:Y.isAny,conversion:null,conversionIndex:-1}}),name:$.slice(0,-1),hasAny:U,hasConversion:!1,restParam:M}}function A(S){const M=S.types.map(X=>X.name),T=G(M);let q=S.hasAny,U=S.name;const $=T.map(function(X){const Y=s(X.from);return q=Y.isAny||q,U+="|"+X.from,{name:X.from,typeIndex:Y.index,test:Y.test,isAny:Y.isAny,conversion:X,conversionIndex:X.index}});return{types:S.types.concat($),name:U,hasAny:q,hasConversion:$.length>0,restParam:S.restParam}}function m(S){return S.typeSet||(S.typeSet=new Set,S.types.forEach(M=>S.typeSet.add(M.name))),S.typeSet}function E(S){const M=[];if(typeof S!="string")throw new TypeError("Signatures must be strings");const T=S.trim();if(T==="")return M;const q=T.split(",");for(let U=0;U<q.length;++U){const $=w(q[U].trim());if($.restParam&&U!==q.length-1)throw new SyntaxError('Unexpected rest parameter "'+q[U]+'": only allowed for the last parameter');if($.types.length===0)return null;M.push($)}return M}function y(S){const M=oe(S);return M?M.restParam:!1}function p(S){if(!S||S.types.length===0)return pn;if(S.types.length===1)return s(S.types[0].name).test;if(S.types.length===2){const M=s(S.types[0].name).test,T=s(S.types[1].name).test;return function(U){return M(U)||T(U)}}else{const M=S.types.map(function(T){return s(T.name).test});return function(q){for(let U=0;U<M.length;U++)if(M[U](q))return!0;return!1}}}function _(S){let M,T,q;if(y(S)){M=le(S).map(p);const U=M.length,$=p(oe(S)),X=function(Y){for(let K=U;K<Y.length;K++)if(!$(Y[K]))return!1;return!0};return function(K){for(let H=0;H<M.length;H++)if(!M[H](K[H]))return!1;return X(K)&&K.length>=U+1}}else return S.length===0?function($){return $.length===0}:S.length===1?(T=p(S[0]),function($){return T($[0])&&$.length===1}):S.length===2?(T=p(S[0]),q=p(S[1]),function($){return T($[0])&&q($[1])&&$.length===2}):(M=S.map(p),function($){for(let X=0;X<M.length;X++)if(!M[X]($[X]))return!1;return $.length===M.length})}function F(S,M){return M<S.length?S[M]:y(S)?oe(S):null}function C(S,M){const T=F(S,M);return T?m(T):new Set}function B(S){return S.conversion===null||S.conversion===void 0}function b(S,M){const T=new Set;return S.forEach(q=>{const U=C(q.params,M);let $;for($ of U)T.add($)}),T.has("any")?["any"]:Array.from(T)}function N(S,M,T){let q,U;const $=S||"unnamed";let X=T,Y;for(Y=0;Y<M.length;Y++){const Ee=[];if(X.forEach(be=>{const Je=F(be.params,Y),Ze=p(Je);(Y<be.params.length||y(be.params))&&Ze(M[Y])&&Ee.push(be)}),Ee.length===0){if(U=b(X,Y),U.length>0){const be=o(M[Y]);return q=new TypeError("Unexpected type of argument in function "+$+" (expected: "+U.join(" or ")+", actual: "+be.join(" | ")+", index: "+Y+")"),q.data={category:"wrongType",fn:$,index:Y,actual:be,expected:U},q}}else X=Ee}const K=X.map(function(Ee){return y(Ee.params)?1/0:Ee.params.length});if(M.length<Math.min.apply(null,K))return U=b(X,Y),q=new TypeError("Too few arguments in function "+$+" (expected: "+U.join(" or ")+", index: "+M.length+")"),q.data={category:"tooFewArgs",fn:$,index:M.length,expected:U},q;const H=Math.max.apply(null,K);if(M.length>H)return q=new TypeError("Too many arguments in function "+$+" (expected: "+H+", actual: "+M.length+")"),q.data={category:"tooManyArgs",fn:$,index:M.length,expectedLength:H},q;const we=[];for(let Ee=0;Ee<M.length;++Ee)we.push(o(M[Ee]).join("|"));return q=new TypeError('Arguments of type "'+we.join(", ")+'" do not match any of the defined signatures of function '+$+"."),q.data={category:"mismatch",actual:we},q}function R(S){let M=i.length+1;for(let T=0;T<S.types.length;T++)B(S.types[T])&&(M=Math.min(M,S.types[T].typeIndex));return M}function O(S){let M=u+1;for(let T=0;T<S.types.length;T++)B(S.types[T])||(M=Math.min(M,S.types[T].conversionIndex));return M}function P(S,M){if(S.hasAny){if(!M.hasAny)return 1}else if(M.hasAny)return-1;if(S.restParam){if(!M.restParam)return 1}else if(M.restParam)return-1;if(S.hasConversion){if(!M.hasConversion)return 1}else if(M.hasConversion)return-1;const T=R(S)-R(M);if(T<0)return-1;if(T>0)return 1;const q=O(S)-O(M);return q<0?-1:q>0?1:0}function x(S,M){const T=S.params,q=M.params,U=oe(T),$=oe(q),X=y(T),Y=y(q);if(X&&U.hasAny){if(!Y||!$.hasAny)return 1}else if(Y&&$.hasAny)return-1;let K=0,H=0,we;for(we of T)we.hasAny&&++K,we.hasConversion&&++H;let Ee=0,be=0;for(we of q)we.hasAny&&++Ee,we.hasConversion&&++be;if(K!==Ee)return K-Ee;if(X&&U.hasConversion){if(!Y||!$.hasConversion)return 1}else if(Y&&$.hasConversion)return-1;if(H!==be)return H-be;if(X){if(!Y)return 1}else if(Y)return-1;const Je=(T.length-q.length)*(X?-1:1);if(Je!==0)return Je;const Ze=[];let ur=0;for(let Ir=0;Ir<T.length;++Ir){const ut=P(T[Ir],q[Ir]);Ze.push(ut),ur+=ut}if(ur!==0)return ur;let ar;for(ar of Ze)if(ar!==0)return ar;return 0}function G(S){if(S.length===0)return[];const M=S.map(s);S.length>1&&M.sort((U,$)=>U.index-$.index);let T=M[0].conversionsTo;if(S.length===1)return T;T=T.concat([]);const q=new Set(S);for(let U=1;U<M.length;++U){let $;for($ of M[U].conversionsTo)q.has($.from)||(T.push($),q.add($.from))}return T}function Z(S,M){let T=M;if(S.some(U=>U.hasConversion)){const U=y(S),$=S.map(I);T=function(){const Y=[],K=U?arguments.length-1:arguments.length;for(let H=0;H<K;H++)Y[H]=$[H](arguments[H]);return U&&(Y[K]=arguments[K].map($[K])),M.apply(this,Y)}}let q=T;if(y(S)){const U=S.length-1;q=function(){return T.apply(this,re(arguments,0,U).concat([re(arguments,U)]))}}return q}function I(S){let M,T,q,U;const $=[],X=[];switch(S.types.forEach(function(Y){Y.conversion&&($.push(s(Y.conversion.from).test),X.push(Y.conversion.convert))}),X.length){case 0:return function(K){return K};case 1:return M=$[0],q=X[0],function(K){return M(K)?q(K):K};case 2:return M=$[0],T=$[1],q=X[0],U=X[1],function(K){return M(K)?q(K):T(K)?U(K):K};default:return function(K){for(let H=0;H<X.length;H++)if($[H](K))return X[H](K);return K}}}function V(S){function M(T,q,U){if(q<T.length){const $=T[q];let X=[];if($.restParam){const Y=$.types.filter(B);Y.length<$.types.length&&X.push({types:Y,name:"..."+Y.map(K=>K.name).join("|"),hasAny:Y.some(K=>K.isAny),hasConversion:!1,restParam:!0}),X.push($)}else X=$.types.map(function(Y){return{types:[Y],name:Y.name,hasAny:Y.isAny,hasConversion:Y.conversion,restParam:!1}});return ye(X,function(Y){return M(T,q+1,U.concat([Y]))})}else return[U]}return M(S,0,[])}function Q(S,M){const T=Math.max(S.length,M.length);for(let Y=0;Y<T;Y++){const K=C(S,Y),H=C(M,Y);let we=!1,Ee;for(Ee of H)if(K.has(Ee)){we=!0;break}if(!we)return!1}const q=S.length,U=M.length,$=y(S),X=y(M);return $?X?q===U:U>=q:X?q>=U:q===U}function ae(S){return S.map(M=>$e(M)?Me(M.referToSelf.callback):Ye(M)?ve(M.referTo.references,M.referTo.callback):M)}function ne(S,M,T){const q=[];let U;for(U of S){let $=T[U];if(typeof $!="number")throw new TypeError('No definition for referenced signature "'+U+'"');if($=M[$],typeof $!="function")return!1;q.push($)}return q}function j(S,M,T){const q=ae(S),U=new Array(q.length).fill(!1);let $=!0;for(;$;){$=!1;let X=!0;for(let Y=0;Y<q.length;++Y){if(U[Y])continue;const K=q[Y];if($e(K))q[Y]=K.referToSelf.callback(T),q[Y].referToSelf=K.referToSelf,U[Y]=!0,X=!1;else if(Ye(K)){const H=ne(K.referTo.references,q,M);H?(q[Y]=K.referTo.callback.apply(this,H),q[Y].referTo=K.referTo,U[Y]=!0,X=!1):$=!0}}if(X&&$)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return q}function de(S){const M=/\bthis(\(|\.signatures\b)/;Object.keys(S).forEach(T=>{const q=S[T];if(M.test(q.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function fe(S,M){if(a.createCount++,Object.keys(M).length===0)throw new SyntaxError("No signatures provided");a.warnAgainstDeprecatedThis&&de(M);const T=[],q=[],U={},$=[];let X;for(X in M){if(!Object.prototype.hasOwnProperty.call(M,X))continue;const me=E(X);if(!me)continue;T.forEach(function(Xr){if(Q(Xr,me))throw new TypeError('Conflicting signatures "'+g(Xr)+'" and "'+g(me)+'".')}),T.push(me);const Ge=q.length;q.push(M[X]);const Nu=me.map(A);let at;for(at of V(Nu)){const Xr=g(at);$.push({params:at,name:Xr,fn:Ge}),at.every(Tu=>!Tu.hasConversion)&&(U[Xr]=Ge)}}$.sort(x);const Y=j(q,U,Gr);let K;for(K in U)Object.prototype.hasOwnProperty.call(U,K)&&(U[K]=Y[U[K]]);const H=[],we=new Map;for(K of $)we.has(K.name)||(K.fn=Y[K.fn],H.push(K),we.set(K.name,K));const Ee=H[0]&&H[0].params.length<=2&&!y(H[0].params),be=H[1]&&H[1].params.length<=2&&!y(H[1].params),Je=H[2]&&H[2].params.length<=2&&!y(H[2].params),Ze=H[3]&&H[3].params.length<=2&&!y(H[3].params),ur=H[4]&&H[4].params.length<=2&&!y(H[4].params),ar=H[5]&&H[5].params.length<=2&&!y(H[5].params),Ir=Ee&&be&&Je&&Ze&&ur&&ar;for(let me=0;me<H.length;++me)H[me].test=_(H[me].params);const ut=Ee?p(H[0].params[0]):je,nu=be?p(H[1].params[0]):je,iu=Je?p(H[2].params[0]):je,uu=Ze?p(H[3].params[0]):je,au=ur?p(H[4].params[0]):je,ou=ar?p(H[5].params[0]):je,su=Ee?p(H[0].params[1]):je,fu=be?p(H[1].params[1]):je,cu=Je?p(H[2].params[1]):je,lu=Ze?p(H[3].params[1]):je,hu=ur?p(H[4].params[1]):je,vu=ar?p(H[5].params[1]):je;for(let me=0;me<H.length;++me)H[me].implementation=Z(H[me].params,H[me].fn);const Du=Ee?H[0].implementation:Or,pu=be?H[1].implementation:Or,du=Je?H[2].implementation:Or,gu=Ze?H[3].implementation:Or,mu=ur?H[4].implementation:Or,wu=ar?H[5].implementation:Or,yu=Ee?H[0].params.length:-1,Au=be?H[1].params.length:-1,Eu=Je?H[2].params.length:-1,Fu=Ze?H[3].params.length:-1,Cu=ur?H[4].params.length:-1,_u=ar?H[5].params.length:-1,Su=Ir?6:0,Bu=H.length,bu=H.map(me=>me.test),Mu=H.map(me=>me.implementation),xu=function(){for(let Ge=Su;Ge<Bu;Ge++)if(bu[Ge](arguments))return Mu[Ge].apply(this,arguments);return a.onMismatch(S,arguments,H)};function Gr(me,Ge){return arguments.length===yu&&ut(me)&&su(Ge)?Du.apply(this,arguments):arguments.length===Au&&nu(me)&&fu(Ge)?pu.apply(this,arguments):arguments.length===Eu&&iu(me)&&cu(Ge)?du.apply(this,arguments):arguments.length===Fu&&uu(me)&&lu(Ge)?gu.apply(this,arguments):arguments.length===Cu&&au(me)&&hu(Ge)?mu.apply(this,arguments):arguments.length===_u&&ou(me)&&vu(Ge)?wu.apply(this,arguments):xu.apply(this,arguments)}try{Object.defineProperty(Gr,"name",{value:S})}catch{}return Gr.signatures=U,Gr._typedFunctionData={signatures:H,signatureMap:we},Gr}function ue(S,M,T){throw N(S,M,T)}function le(S){return re(S,0,S.length-1)}function oe(S){return S[S.length-1]}function re(S,M,T){return Array.prototype.slice.call(S,M,T)}function Ce(S,M){for(let T=0;T<S.length;T++)if(M(S[T]))return S[T]}function ye(S,M){return Array.prototype.concat.apply([],S.map(M))}function se(){const S=le(arguments).map(T=>g(E(T))),M=oe(arguments);if(typeof M!="function")throw new TypeError("Callback function expected as last argument");return ve(S,M)}function ve(S,M){return{referTo:{references:S,callback:M}}}function Me(S){if(typeof S!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:S}}}function Ye(S){return S&&typeof S.referTo=="object"&&Array.isArray(S.referTo.references)&&typeof S.referTo.callback=="function"}function $e(S){return S&&typeof S.referToSelf=="object"&&typeof S.referToSelf.callback=="function"}function he(S,M){if(!S)return M;if(M&&M!==S){const T=new Error("Function names do not match (expected: "+S+", actual: "+M+")");throw T.data={actual:M,expected:S},T}return S}function Le(S){let M;for(const T in S)Object.prototype.hasOwnProperty.call(S,T)&&(v(S[T])||typeof S[T].signature=="string")&&(M=he(M,S[T].name));return M}function ir(S,M){let T;for(T in M)if(Object.prototype.hasOwnProperty.call(M,T)){if(T in S&&M[T]!==S[T]){const q=new Error('Signature "'+T+'" is defined twice');throw q.data={signature:T,sourceFunction:M[T],destFunction:S[T]},q}S[T]=M[T]}}const Rt=a;a=function(S){const M=typeof S=="string",T=M?1:0;let q=M?S:"";const U={};for(let $=T;$<arguments.length;++$){const X=arguments[$];let Y={},K;if(typeof X=="function"?(K=X.name,typeof X.signature=="string"?Y[X.signature]=X:v(X)&&(Y=X.signatures)):e(X)&&(Y=X,M||(K=Le(X))),Object.keys(Y).length===0){const H=new TypeError("Argument to 'typed' at index "+$+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw H.data={index:$,argument:X},H}M||(q=he(q,K)),ir(U,Y)}return fe(q||"",U)},a.create=ci,a.createCount=Rt.createCount,a.onMismatch=ue,a.throwMismatchError=ue,a.createError=N,a.clear=c,a.clearConversions=h,a.addTypes=f,a._findType=s,a.referTo=se,a.referToSelf=Me,a.convert=l,a.findSignature=D,a.find=d,a.isTypedFunction=v,a.warnAgainstDeprecatedThis=!0,a.addType=function(S,M){let T="any";M!==!1&&n.has("Object")&&(T="Object"),a.addTypes([S],T)};function Jr(S){if(!S||typeof S.from!="string"||typeof S.to!="string"||typeof S.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(S.to===S.from)throw new SyntaxError('Illegal to define conversion from "'+S.from+'" to itself.')}return a.addConversion=function(S){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Jr(S);const T=s(S.to),q=T.conversionsTo.find(U=>U.from===S.from);if(q)if(M&&M.override)a.removeConversion({from:q.from,to:S.to,convert:q.convert});else throw new Error('There is already a conversion from "'+S.from+'" to "'+T.name+'"');T.conversionsTo.push({from:S.from,convert:S.convert,index:u++})},a.addConversions=function(S,M){S.forEach(T=>a.addConversion(T,M))},a.removeConversion=function(S){Jr(S);const M=s(S.to),T=Ce(M.conversionsTo,U=>U.from===S.from);if(!T)throw new Error("Attempt to remove nonexistent conversion from "+S.from+" to "+S.to);if(T.convert!==S.convert)throw new Error("Conversion to remove does not match existing conversion");const q=M.conversionsTo.indexOf(T);M.conversionsTo.splice(q,1)},a.resolve=function(S,M){if(!v(S))throw new TypeError(dn);const T=S._typedFunctionData.signatures;for(let q=0;q<T.length;++q)if(T[q].test(M))return T[q];return null},a}const dt=ci();function W(e,r,t,n){function i(u){var a=wa(u,r.map(Ca));return Ea(e,r,u),t(a)}return i.isFactory=!0,i.fn=e,i.dependencies=r.slice().sort(),n&&(i.meta=n),i}function Ea(e,r,t){var n=r.filter(u=>!Fa(u)).every(u=>t[u]!==void 0);if(!n){var i=r.filter(u=>t[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function Fa(e){return e&&e[0]==="?"}function Ca(e){return e&&e[0]==="?"?e.slice(1):e}function Pe(e){return typeof e=="boolean"?!0:Number.isFinite(e)?e===Math.round(e):!1}function $t(e,r,t){var n={2:"0b",8:"0o",16:"0x"},i=n[r],u="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Pe(t))throw new Error("size must be an integer");if(e>2**(t-1)-1||e<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Pe(e))throw new Error("Value must be an integer");e<0&&(e=e+2**t),u="i".concat(t)}var a="";return e<0&&(e=-e,a="-"),"".concat(a).concat(i).concat(e.toString(r)).concat(u)}function Vt(e,r){if(typeof r=="function")return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:t,precision:n,wordSize:i}=li(r);switch(t){case"fixed":return Sa(e,n);case"exponential":return hi(e,n);case"engineering":return _a(e,n);case"bin":return $t(e,2,i);case"oct":return $t(e,8,i);case"hex":return $t(e,16,i);case"auto":return Ba(e,n,r).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],a=arguments[4];return u!=="."?u+a:a});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function li(e){var r="auto",t,n;if(e!==void 0)if(De(e))t=e;else if(qe(e))t=e.toNumber();else if(rn(e))e.precision!==void 0&&(t=gn(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=gn(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(r=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:r,precision:t,wordSize:n}}function bt(e){var r=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+e);var t=r[1],n=r[2],i=parseFloat(r[4]||"0"),u=n.indexOf(".");i+=u!==-1?u-1:n.length-1;var a=n.replace(".","").replace(/^0*/,function(s){return i-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return a.length===0&&(a.push(0),i++),{sign:t,coefficients:a,exponent:i}}function _a(e,r){if(isNaN(e)||!Number.isFinite(e))return String(e);var t=bt(e),n=Mt(t,r),i=n.exponent,u=n.coefficients,a=i%3===0?i:i<0?i-3-i%3:i-i%3;if(De(r))for(;r>u.length||i-a+1>u.length;)u.push(0);else for(var s=Math.abs(i-a)-(u.length-1),f=0;f<s;f++)u.push(0);for(var c=Math.abs(i-a),h=1;c>0;)h++,c--;var o=u.slice(h).join(""),v=De(r)&&o.length||o.match(/[1-9]/)?"."+o:"",D=u.slice(0,h).join("")+v+"e"+(i>=0?"+":"")+a.toString();return n.sign+D}function Sa(e,r){if(isNaN(e)||!Number.isFinite(e))return String(e);var t=bt(e),n=typeof r=="number"?Mt(t,t.exponent+1+r):t,i=n.coefficients,u=n.exponent+1,a=u+(r||0);return i.length<a&&(i=i.concat(Lr(a-i.length))),u<0&&(i=Lr(-u+1).concat(i),u=1),u<i.length&&i.splice(u,0,u===0?"0.":"."),n.sign+i.join("")}function hi(e,r){if(isNaN(e)||!Number.isFinite(Number(e)))return String(e);var t=bt(e),n=r?Mt(t,r):t,i=n.coefficients,u=n.exponent;i.length<r&&(i=i.concat(Lr(r-i.length)));var a=i.shift();return n.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(u>=0?"+":"")+u}function Ba(e,r,t){if(isNaN(e)||!Number.isFinite(e))return String(e);var n=mn(t==null?void 0:t.lowerExp,-3),i=mn(t==null?void 0:t.upperExp,5),u=bt(e),a=r?Mt(u,r):u;if(a.exponent<n||a.exponent>=i)return hi(e,r);var s=a.coefficients,f=a.exponent;s.length<r&&(s=s.concat(Lr(r-s.length))),s=s.concat(Lr(f-s.length+1+(s.length<r?r-s.length:0))),s=Lr(-f).concat(s);var c=f>0?f:0;return c<s.length-1&&s.splice(c+1,0,"."),a.sign+s.join("")}function Mt(e,r){for(var t={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=t.coefficients;r<=0;)n.unshift(0),t.exponent++,r++;if(n.length>r){var i=n.splice(r,n.length-r);if(i[0]>=5){var u=r-1;for(n[u]++;n[u]===10;)n.pop(),u===0&&(n.unshift(0),t.exponent++,u++),u--,n[u]++}}return t}function Lr(e){for(var r=[],t=0;t<e;t++)r.push(0);return r}function ba(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function xr(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(r)?!1:!Number.isFinite(e)||!Number.isFinite(r)?e===r:e===r?!0:Math.abs(e-r)<=Math.max(t*Math.max(Math.abs(e),Math.abs(r)),n)}function gn(e,r){if(De(e))return e;if(qe(e))return e.toNumber();r()}function mn(e,r){return De(e)?e:qe(e)?e.toNumber():r}var vi=function(){return vi=dt.create,dt},Ma=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],xa=W("typed",Ma,function(r){var{BigNumber:t,Complex:n,DenseMatrix:i,Fraction:u}=r,a=vi();return a.clear(),a.addTypes([{name:"number",test:De},{name:"Complex",test:ui},{name:"BigNumber",test:qe},{name:"bigint",test:Zu},{name:"Fraction",test:ai},{name:"Unit",test:oi},{name:"identifier",test:s=>cr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:cr},{name:"Chain",test:da},{name:"Array",test:Be},{name:"Matrix",test:Ne},{name:"DenseMatrix",test:si},{name:"SparseMatrix",test:fi},{name:"Range",test:Vu},{name:"Index",test:en},{name:"boolean",test:Yu},{name:"ResultSet",test:Ju},{name:"Help",test:Gu},{name:"function",test:Xu},{name:"Date",test:Ku},{name:"RegExp",test:Qu},{name:"null",test:ku},{name:"undefined",test:ju},{name:"AccessorNode",test:ea},{name:"ArrayNode",test:ra},{name:"AssignmentNode",test:ta},{name:"BlockNode",test:na},{name:"ConditionalNode",test:ia},{name:"ConstantNode",test:ua},{name:"FunctionNode",test:oa},{name:"FunctionAssignmentNode",test:aa},{name:"IndexNode",test:sa},{name:"Node",test:fa},{name:"ObjectNode",test:ca},{name:"OperatorNode",test:la},{name:"ParenthesisNode",test:ha},{name:"RangeNode",test:va},{name:"RelationalNode",test:Da},{name:"SymbolNode",test:pa},{name:"Map",test:Wu},{name:"Object",test:rn}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(f){if(t||st(f),ba(f)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+f+"). Use function bignumber(x) to convert to BigNumber.");return new t(f)}},{from:"number",to:"Complex",convert:function(f){return n||ft(f),new n(f,0)}},{from:"BigNumber",to:"Complex",convert:function(f){return n||ft(f),new n(f.toNumber(),0)}},{from:"bigint",to:"number",convert:function(f){if(f>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+f+")");return Number(f)}},{from:"bigint",to:"BigNumber",convert:function(f){return t||st(f),new t(f.toString())}},{from:"bigint",to:"Fraction",convert:function(f){return u||ct(f),new u(f)}},{from:"Fraction",to:"BigNumber",convert:function(f){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(f){return n||ft(f),new n(f.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(f){u||ct(f);var c=new u(f);if(c.valueOf()!==f)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+f+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(f){var c=Number(f);if(isNaN(c))throw new Error('Cannot convert "'+f+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(f){t||st(f);try{return new t(f)}catch{throw new Error('Cannot convert "'+f+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(f){try{return BigInt(f)}catch{throw new Error('Cannot convert "'+f+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(f){u||ct(f);try{return new u(f)}catch{throw new Error('Cannot convert "'+f+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(f){n||ft(f);try{return new n(f)}catch{throw new Error('Cannot convert "'+f+'" to Complex')}}},{from:"boolean",to:"number",convert:function(f){return+f}},{from:"boolean",to:"BigNumber",convert:function(f){return t||st(f),new t(+f)}},{from:"boolean",to:"bigint",convert:function(f){return BigInt(+f)}},{from:"boolean",to:"Fraction",convert:function(f){return u||ct(f),new u(+f)}},{from:"boolean",to:"string",convert:function(f){return String(f)}},{from:"Array",to:"Matrix",convert:function(f){return i||Na(),new i(f)}},{from:"Matrix",to:"Array",convert:function(f){return f.valueOf()}}]),a.onMismatch=(s,f,c)=>{var h=a.createError(s,f,c);if(["wrongType","mismatch"].includes(h.data.category)&&f.length===1&&pt(f[0])&&c.some(v=>!v.params.includes(","))){var o=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw o.data=h.data,o}throw h},a.onMismatch=(s,f,c)=>{var h=a.createError(s,f,c);if(["wrongType","mismatch"].includes(h.data.category)&&f.length===1&&pt(f[0])&&c.some(v=>!v.params.includes(","))){var o=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw o.data=h.data,o}throw h},a});function st(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function ft(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Na(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function ct(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Rr=9e15,Sr=1e9,Yt="0123456789abcdef",gt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",mt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Jt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Rr,maxE:Rr,crypto:!1},Di,pr,ie=!0,xt="[DecimalError] ",_r=xt+"Invalid argument: ",pi=xt+"Precision limit exceeded",di=xt+"crypto unavailable",gi="[object Decimal]",He=Math.floor,xe=Math.pow,Ta=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,za=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Ia=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,mi=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sr=1e7,te=7,Oa=9007199254740991,Pa=gt.length-1,Gt=mt.length-1,L={toStringTag:gi};L.absoluteValue=L.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),ee(e)};L.ceil=function(){return ee(new this.constructor(this),this.e+1,2)};L.clampedTo=L.clamp=function(e,r){var t,n=this,i=n.constructor;if(e=new i(e),r=new i(r),!e.s||!r.s)return new i(NaN);if(e.gt(r))throw Error(_r+r);return t=n.cmp(e),t<0?e:n.cmp(r)>0?r:new i(n)};L.comparedTo=L.cmp=function(e){var r,t,n,i,u=this,a=u.d,s=(e=new u.constructor(e)).d,f=u.s,c=e.s;if(!a||!s)return!f||!c?NaN:f!==c?f:a===s?0:!a^f<0?1:-1;if(!a[0]||!s[0])return a[0]?f:s[0]?-c:0;if(f!==c)return f;if(u.e!==e.e)return u.e>e.e^f<0?1:-1;for(n=a.length,i=s.length,r=0,t=n<i?n:i;r<t;++r)if(a[r]!==s[r])return a[r]>s[r]^f<0?1:-1;return n===i?0:n>i^f<0?1:-1};L.cosine=L.cos=function(){var e,r,t=this,n=t.constructor;return t.d?t.d[0]?(e=n.precision,r=n.rounding,n.precision=e+Math.max(t.e,t.sd())+te,n.rounding=1,t=qa(n,Fi(n,t)),n.precision=e,n.rounding=r,ee(pr==2||pr==3?t.neg():t,e,r,!0)):new n(1):new n(NaN)};L.cubeRoot=L.cbrt=function(){var e,r,t,n,i,u,a,s,f,c,h=this,o=h.constructor;if(!h.isFinite()||h.isZero())return new o(h);for(ie=!1,u=h.s*xe(h.s*h,1/3),!u||Math.abs(u)==1/0?(t=Re(h.d),e=h.e,(u=(e-t.length+1)%3)&&(t+=u==1||u==-2?"0":"00"),u=xe(t,1/3),e=He((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?t="5e"+e:(t=u.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new o(t),n.s=h.s):n=new o(u.toString()),a=(e=o.precision)+3;;)if(s=n,f=s.times(s).times(s),c=f.plus(h),n=Ae(c.plus(h).times(s),c.plus(f),a+2,1),Re(s.d).slice(0,a)===(t=Re(n.d)).slice(0,a))if(t=t.slice(a-3,a+1),t=="9999"||!i&&t=="4999"){if(!i&&(ee(s,e+1,0),s.times(s).times(s).eq(h))){n=s;break}a+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(ee(n,e+1,1),r=!n.times(n).times(n).eq(h));break}return ie=!0,ee(n,e,o.rounding,r)};L.decimalPlaces=L.dp=function(){var e,r=this.d,t=NaN;if(r){if(e=r.length-1,t=(e-He(this.e/te))*te,e=r[e],e)for(;e%10==0;e/=10)t--;t<0&&(t=0)}return t};L.dividedBy=L.div=function(e){return Ae(this,new this.constructor(e))};L.dividedToIntegerBy=L.divToInt=function(e){var r=this,t=r.constructor;return ee(Ae(r,new t(e),0,1,1),t.precision,t.rounding)};L.equals=L.eq=function(e){return this.cmp(e)===0};L.floor=function(){return ee(new this.constructor(this),this.e+1,3)};L.greaterThan=L.gt=function(e){return this.cmp(e)>0};L.greaterThanOrEqualTo=L.gte=function(e){var r=this.cmp(e);return r==1||r===0};L.hyperbolicCosine=L.cosh=function(){var e,r,t,n,i,u=this,a=u.constructor,s=new a(1);if(!u.isFinite())return new a(u.s?1/0:NaN);if(u.isZero())return s;t=a.precision,n=a.rounding,a.precision=t+Math.max(u.e,u.sd())+4,a.rounding=1,i=u.d.length,i<32?(e=Math.ceil(i/3),r=(1/Tt(4,e)).toString()):(e=16,r="2.3283064365386962890625e-10"),u=Hr(a,1,u.times(r),new a(1),!0);for(var f,c=e,h=new a(8);c--;)f=u.times(u),u=s.minus(f.times(h.minus(f.times(h))));return ee(u,a.precision=t,a.rounding=n,!0)};L.hyperbolicSine=L.sinh=function(){var e,r,t,n,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(r=u.precision,t=u.rounding,u.precision=r+Math.max(i.e,i.sd())+4,u.rounding=1,n=i.d.length,n<3)i=Hr(u,2,i,i,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,i=i.times(1/Tt(5,e)),i=Hr(u,2,i,i,!0);for(var a,s=new u(5),f=new u(16),c=new u(20);e--;)a=i.times(i),i=i.times(s.plus(a.times(f.times(a).plus(c))))}return u.precision=r,u.rounding=t,ee(i,r,t,!0)};L.hyperbolicTangent=L.tanh=function(){var e,r,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+7,n.rounding=1,Ae(t.sinh(),t.cosh(),n.precision=e,n.rounding=r)):new n(t.s)};L.inverseCosine=L.acos=function(){var e=this,r=e.constructor,t=e.abs().cmp(1),n=r.precision,i=r.rounding;return t!==-1?t===0?e.isNeg()?lr(r,n,i):new r(0):new r(NaN):e.isZero()?lr(r,n+4,i).times(.5):(r.precision=n+6,r.rounding=1,e=new r(1).minus(e).div(e.plus(1)).sqrt().atan(),r.precision=n,r.rounding=i,e.times(2))};L.inverseHyperbolicCosine=L.acosh=function(){var e,r,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(e=n.precision,r=n.rounding,n.precision=e+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,ie=!1,t=t.times(t).minus(1).sqrt().plus(t),ie=!0,n.precision=e,n.rounding=r,t.ln()):new n(t)};L.inverseHyperbolicSine=L.asinh=function(){var e,r,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,ie=!1,t=t.times(t).plus(1).sqrt().plus(t),ie=!0,n.precision=e,n.rounding=r,t.ln())};L.inverseHyperbolicTangent=L.atanh=function(){var e,r,t,n,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=u.precision,r=u.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?ee(new u(i),e,r,!0):(u.precision=t=n-i.e,i=Ae(i.plus(1),new u(1).minus(i),t+e,1),u.precision=e+4,u.rounding=1,i=i.ln(),u.precision=e,u.rounding=r,i.times(.5))):new u(NaN)};L.inverseSine=L.asin=function(){var e,r,t,n,i=this,u=i.constructor;return i.isZero()?new u(i):(r=i.abs().cmp(1),t=u.precision,n=u.rounding,r!==-1?r===0?(e=lr(u,t+4,n).times(.5),e.s=i.s,e):new u(NaN):(u.precision=t+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=t,u.rounding=n,i.times(2)))};L.inverseTangent=L.atan=function(){var e,r,t,n,i,u,a,s,f,c=this,h=c.constructor,o=h.precision,v=h.rounding;if(c.isFinite()){if(c.isZero())return new h(c);if(c.abs().eq(1)&&o+4<=Gt)return a=lr(h,o+4,v).times(.25),a.s=c.s,a}else{if(!c.s)return new h(NaN);if(o+4<=Gt)return a=lr(h,o+4,v).times(.5),a.s=c.s,a}for(h.precision=s=o+10,h.rounding=1,t=Math.min(28,s/te+2|0),e=t;e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(ie=!1,r=Math.ceil(s/te),n=1,f=c.times(c),a=new h(c),i=c;e!==-1;)if(i=i.times(f),u=a.minus(i.div(n+=2)),i=i.times(f),a=u.plus(i.div(n+=2)),a.d[r]!==void 0)for(e=r;a.d[e]===u.d[e]&&e--;);return t&&(a=a.times(2<<t-1)),ie=!0,ee(a,h.precision=o,h.rounding=v,!0)};L.isFinite=function(){return!!this.d};L.isInteger=L.isInt=function(){return!!this.d&&He(this.e/te)>this.d.length-2};L.isNaN=function(){return!this.s};L.isNegative=L.isNeg=function(){return this.s<0};L.isPositive=L.isPos=function(){return this.s>0};L.isZero=function(){return!!this.d&&this.d[0]===0};L.lessThan=L.lt=function(e){return this.cmp(e)<0};L.lessThanOrEqualTo=L.lte=function(e){return this.cmp(e)<1};L.logarithm=L.log=function(e){var r,t,n,i,u,a,s,f,c=this,h=c.constructor,o=h.precision,v=h.rounding,D=5;if(e==null)e=new h(10),r=!0;else{if(e=new h(e),t=e.d,e.s<0||!t||!t[0]||e.eq(1))return new h(NaN);r=e.eq(10)}if(t=c.d,c.s<0||!t||!t[0]||c.eq(1))return new h(t&&!t[0]?-1/0:c.s!=1?NaN:t?0:1/0);if(r)if(t.length>1)u=!0;else{for(i=t[0];i%10===0;)i/=10;u=i!==1}if(ie=!1,s=o+D,a=Er(c,s),n=r?wt(h,s+10):Er(e,s),f=Ae(a,n,s,1),jr(f.d,i=o,v))do if(s+=10,a=Er(c,s),n=r?wt(h,s+10):Er(e,s),f=Ae(a,n,s,1),!u){+Re(f.d).slice(i+1,i+15)+1==1e14&&(f=ee(f,o+1,0));break}while(jr(f.d,i+=10,v));return ie=!0,ee(f,o,v)};L.minus=L.sub=function(e){var r,t,n,i,u,a,s,f,c,h,o,v,D=this,d=D.constructor;if(e=new d(e),!D.d||!e.d)return!D.s||!e.s?e=new d(NaN):D.d?e.s=-e.s:e=new d(e.d||D.s!==e.s?D:NaN),e;if(D.s!=e.s)return e.s=-e.s,D.plus(e);if(c=D.d,v=e.d,s=d.precision,f=d.rounding,!c[0]||!v[0]){if(v[0])e.s=-e.s;else if(c[0])e=new d(D);else return new d(f===3?-0:0);return ie?ee(e,s,f):e}if(t=He(e.e/te),h=He(D.e/te),c=c.slice(),u=h-t,u){for(o=u<0,o?(r=c,u=-u,a=v.length):(r=v,t=h,a=c.length),n=Math.max(Math.ceil(s/te),a)+2,u>n&&(u=n,r.length=1),r.reverse(),n=u;n--;)r.push(0);r.reverse()}else{for(n=c.length,a=v.length,o=n<a,o&&(a=n),n=0;n<a;n++)if(c[n]!=v[n]){o=c[n]<v[n];break}u=0}for(o&&(r=c,c=v,v=r,e.s=-e.s),a=c.length,n=v.length-a;n>0;--n)c[a++]=0;for(n=v.length;n>u;){if(c[--n]<v[n]){for(i=n;i&&c[--i]===0;)c[i]=sr-1;--c[i],c[n]+=sr}c[n]-=v[n]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--t;return c[0]?(e.d=c,e.e=Nt(c,t),ie?ee(e,s,f):e):new d(f===3?-0:0)};L.modulo=L.mod=function(e){var r,t=this,n=t.constructor;return e=new n(e),!t.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||t.d&&!t.d[0]?ee(new n(t),n.precision,n.rounding):(ie=!1,n.modulo==9?(r=Ae(t,e.abs(),0,3,1),r.s*=e.s):r=Ae(t,e,0,n.modulo,1),r=r.times(e),ie=!0,t.minus(r))};L.naturalExponential=L.exp=function(){return Xt(this)};L.naturalLogarithm=L.ln=function(){return Er(this)};L.negated=L.neg=function(){var e=new this.constructor(this);return e.s=-e.s,ee(e)};L.plus=L.add=function(e){var r,t,n,i,u,a,s,f,c,h,o=this,v=o.constructor;if(e=new v(e),!o.d||!e.d)return!o.s||!e.s?e=new v(NaN):o.d||(e=new v(e.d||o.s===e.s?o:NaN)),e;if(o.s!=e.s)return e.s=-e.s,o.minus(e);if(c=o.d,h=e.d,s=v.precision,f=v.rounding,!c[0]||!h[0])return h[0]||(e=new v(o)),ie?ee(e,s,f):e;if(u=He(o.e/te),n=He(e.e/te),c=c.slice(),i=u-n,i){for(i<0?(t=c,i=-i,a=h.length):(t=h,n=u,a=c.length),u=Math.ceil(s/te),a=u>a?u+1:a+1,i>a&&(i=a,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(a=c.length,i=h.length,a-i<0&&(i=a,t=h,h=c,c=t),r=0;i;)r=(c[--i]=c[i]+h[i]+r)/sr|0,c[i]%=sr;for(r&&(c.unshift(r),++n),a=c.length;c[--a]==0;)c.pop();return e.d=c,e.e=Nt(c,n),ie?ee(e,s,f):e};L.precision=L.sd=function(e){var r,t=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(_r+e);return t.d?(r=wi(t.d),e&&t.e+1>r&&(r=t.e+1)):r=NaN,r};L.round=function(){var e=this,r=e.constructor;return ee(new r(e),e.e+1,r.rounding)};L.sine=L.sin=function(){var e,r,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+Math.max(t.e,t.sd())+te,n.rounding=1,t=$a(n,Fi(n,t)),n.precision=e,n.rounding=r,ee(pr>2?t.neg():t,e,r,!0)):new n(NaN)};L.squareRoot=L.sqrt=function(){var e,r,t,n,i,u,a=this,s=a.d,f=a.e,c=a.s,h=a.constructor;if(c!==1||!s||!s[0])return new h(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);for(ie=!1,c=Math.sqrt(+a),c==0||c==1/0?(r=Re(s),(r.length+f)%2==0&&(r+="0"),c=Math.sqrt(r),f=He((f+1)/2)-(f<0||f%2),c==1/0?r="5e"+f:(r=c.toExponential(),r=r.slice(0,r.indexOf("e")+1)+f),n=new h(r)):n=new h(c.toString()),t=(f=h.precision)+3;;)if(u=n,n=u.plus(Ae(a,u,t+2,1)).times(.5),Re(u.d).slice(0,t)===(r=Re(n.d)).slice(0,t))if(r=r.slice(t-3,t+1),r=="9999"||!i&&r=="4999"){if(!i&&(ee(u,f+1,0),u.times(u).eq(a))){n=u;break}t+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(ee(n,f+1,1),e=!n.times(n).eq(a));break}return ie=!0,ee(n,f,h.rounding,e)};L.tangent=L.tan=function(){var e,r,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(e=n.precision,r=n.rounding,n.precision=e+10,n.rounding=1,t=t.sin(),t.s=1,t=Ae(t,new n(1).minus(t.times(t)).sqrt(),e+10,0),n.precision=e,n.rounding=r,ee(pr==2||pr==4?t.neg():t,e,r,!0)):new n(NaN)};L.times=L.mul=function(e){var r,t,n,i,u,a,s,f,c,h=this,o=h.constructor,v=h.d,D=(e=new o(e)).d;if(e.s*=h.s,!v||!v[0]||!D||!D[0])return new o(!e.s||v&&!v[0]&&!D||D&&!D[0]&&!v?NaN:!v||!D?e.s/0:e.s*0);for(t=He(h.e/te)+He(e.e/te),f=v.length,c=D.length,f<c&&(u=v,v=D,D=u,a=f,f=c,c=a),u=[],a=f+c,n=a;n--;)u.push(0);for(n=c;--n>=0;){for(r=0,i=f+n;i>n;)s=u[i]+D[n]*v[i-n-1]+r,u[i--]=s%sr|0,r=s/sr|0;u[i]=(u[i]+r)%sr|0}for(;!u[--a];)u.pop();return r?++t:u.shift(),e.d=u,e.e=Nt(u,t),ie?ee(e,o.precision,o.rounding):e};L.toBinary=function(e,r){return tn(this,2,e,r)};L.toDecimalPlaces=L.toDP=function(e,r){var t=this,n=t.constructor;return t=new n(t),e===void 0?t:(Ke(e,0,Sr),r===void 0?r=n.rounding:Ke(r,0,8),ee(t,e+t.e+1,r))};L.toExponential=function(e,r){var t,n=this,i=n.constructor;return e===void 0?t=vr(n,!0):(Ke(e,0,Sr),r===void 0?r=i.rounding:Ke(r,0,8),n=ee(new i(n),e+1,r),t=vr(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+t:t};L.toFixed=function(e,r){var t,n,i=this,u=i.constructor;return e===void 0?t=vr(i):(Ke(e,0,Sr),r===void 0?r=u.rounding:Ke(r,0,8),n=ee(new u(i),e+i.e+1,r),t=vr(n,!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};L.toFraction=function(e){var r,t,n,i,u,a,s,f,c,h,o,v,D=this,d=D.d,l=D.constructor;if(!d)return new l(D);if(c=t=new l(1),n=f=new l(0),r=new l(n),u=r.e=wi(d)-D.e-1,a=u%te,r.d[0]=xe(10,a<0?te+a:a),e==null)e=u>0?r:c;else{if(s=new l(e),!s.isInt()||s.lt(c))throw Error(_r+s);e=s.gt(r)?u>0?r:c:s}for(ie=!1,s=new l(Re(d)),h=l.precision,l.precision=u=d.length*te*2;o=Ae(s,r,0,1,1),i=t.plus(o.times(n)),i.cmp(e)!=1;)t=n,n=i,i=c,c=f.plus(o.times(i)),f=i,i=r,r=s.minus(o.times(i)),s=i;return i=Ae(e.minus(t),n,0,1,1),f=f.plus(i.times(c)),t=t.plus(i.times(n)),f.s=c.s=D.s,v=Ae(c,n,u,1).minus(D).abs().cmp(Ae(f,t,u,1).minus(D).abs())<1?[c,n]:[f,t],l.precision=h,ie=!0,v};L.toHexadecimal=L.toHex=function(e,r){return tn(this,16,e,r)};L.toNearest=function(e,r){var t=this,n=t.constructor;if(t=new n(t),e==null){if(!t.d)return t;e=new n(1),r=n.rounding}else{if(e=new n(e),r===void 0?r=n.rounding:Ke(r,0,8),!t.d)return e.s?t:e;if(!e.d)return e.s&&(e.s=t.s),e}return e.d[0]?(ie=!1,t=Ae(t,e,0,r,1).times(e),ie=!0,ee(t)):(e.s=t.s,t=e),t};L.toNumber=function(){return+this};L.toOctal=function(e,r){return tn(this,8,e,r)};L.toPower=L.pow=function(e){var r,t,n,i,u,a,s=this,f=s.constructor,c=+(e=new f(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new f(xe(+s,c));if(s=new f(s),s.eq(1))return s;if(n=f.precision,u=f.rounding,e.eq(1))return ee(s,n,u);if(r=He(e.e/te),r>=e.d.length-1&&(t=c<0?-c:c)<=Oa)return i=yi(f,s,t,n),e.s<0?new f(1).div(i):ee(i,n,u);if(a=s.s,a<0){if(r<e.d.length-1)return new f(NaN);if(e.d[r]&1||(a=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=a,s}return t=xe(+s,c),r=t==0||!isFinite(t)?He(c*(Math.log("0."+Re(s.d))/Math.LN10+s.e+1)):new f(t+"").e,r>f.maxE+1||r<f.minE-1?new f(r>0?a/0:0):(ie=!1,f.rounding=s.s=1,t=Math.min(12,(r+"").length),i=Xt(e.times(Er(s,n+t)),n),i.d&&(i=ee(i,n+5,1),jr(i.d,n,u)&&(r=n+10,i=ee(Xt(e.times(Er(s,r+t)),r),r+5,1),+Re(i.d).slice(n+1,n+15)+1==1e14&&(i=ee(i,n+1,0)))),i.s=a,ie=!0,f.rounding=u,ee(i,n,u))};L.toPrecision=function(e,r){var t,n=this,i=n.constructor;return e===void 0?t=vr(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Ke(e,1,Sr),r===void 0?r=i.rounding:Ke(r,0,8),n=ee(new i(n),e,r),t=vr(n,e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+t:t};L.toSignificantDigits=L.toSD=function(e,r){var t=this,n=t.constructor;return e===void 0?(e=n.precision,r=n.rounding):(Ke(e,1,Sr),r===void 0?r=n.rounding:Ke(r,0,8)),ee(new n(t),e,r)};L.toString=function(){var e=this,r=e.constructor,t=vr(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+t:t};L.truncated=L.trunc=function(){return ee(new this.constructor(this),this.e+1,1)};L.valueOf=L.toJSON=function(){var e=this,r=e.constructor,t=vr(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+t:t};function Re(e){var r,t,n,i=e.length-1,u="",a=e[0];if(i>0){for(u+=a,r=1;r<i;r++)n=e[r]+"",t=te-n.length,t&&(u+=yr(t)),u+=n;a=e[r],n=a+"",t=te-n.length,t&&(u+=yr(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return u+a}function Ke(e,r,t){if(e!==~~e||e<r||e>t)throw Error(_r+e)}function jr(e,r,t,n){var i,u,a,s;for(u=e[0];u>=10;u/=10)--r;return--r<0?(r+=te,i=0):(i=Math.ceil((r+1)/te),r%=te),u=xe(10,te-r),s=e[i]%u|0,n==null?r<3?(r==0?s=s/100|0:r==1&&(s=s/10|0),a=t<4&&s==99999||t>3&&s==49999||s==5e4||s==0):a=(t<4&&s+1==u||t>3&&s+1==u/2)&&(e[i+1]/u/100|0)==xe(10,r-2)-1||(s==u/2||s==0)&&(e[i+1]/u/100|0)==0:r<4?(r==0?s=s/1e3|0:r==1?s=s/100|0:r==2&&(s=s/10|0),a=(n||t<4)&&s==9999||!n&&t>3&&s==4999):a=((n||t<4)&&s+1==u||!n&&t>3&&s+1==u/2)&&(e[i+1]/u/1e3|0)==xe(10,r-3)-1,a}function lt(e,r,t){for(var n,i=[0],u,a=0,s=e.length;a<s;){for(u=i.length;u--;)i[u]*=r;for(i[0]+=Yt.indexOf(e.charAt(a++)),n=0;n<i.length;n++)i[n]>t-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/t|0,i[n]%=t)}return i.reverse()}function qa(e,r){var t,n,i;if(r.isZero())return r;n=r.d.length,n<32?(t=Math.ceil(n/3),i=(1/Tt(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),e.precision+=t,r=Hr(e,1,r.times(i),new e(1));for(var u=t;u--;){var a=r.times(r);r=a.times(a).minus(a).times(8).plus(1)}return e.precision-=t,r}var Ae=function(){function e(n,i,u){var a,s=0,f=n.length;for(n=n.slice();f--;)a=n[f]*i+s,n[f]=a%u|0,s=a/u|0;return s&&n.unshift(s),n}function r(n,i,u,a){var s,f;if(u!=a)f=u>a?1:-1;else for(s=f=0;s<u;s++)if(n[s]!=i[s]){f=n[s]>i[s]?1:-1;break}return f}function t(n,i,u,a){for(var s=0;u--;)n[u]-=s,s=n[u]<i[u]?1:0,n[u]=s*a+n[u]-i[u];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,u,a,s,f){var c,h,o,v,D,d,l,g,w,A,m,E,y,p,_,F,C,B,b,N,R=n.constructor,O=n.s==i.s?1:-1,P=n.d,x=i.d;if(!P||!P[0]||!x||!x[0])return new R(!n.s||!i.s||(P?x&&P[0]==x[0]:!x)?NaN:P&&P[0]==0||!x?O*0:O/0);for(f?(D=1,h=n.e-i.e):(f=sr,D=te,h=He(n.e/D)-He(i.e/D)),b=x.length,C=P.length,w=new R(O),A=w.d=[],o=0;x[o]==(P[o]||0);o++);if(x[o]>(P[o]||0)&&h--,u==null?(p=u=R.precision,a=R.rounding):s?p=u+(n.e-i.e)+1:p=u,p<0)A.push(1),d=!0;else{if(p=p/D+2|0,o=0,b==1){for(v=0,x=x[0],p++;(o<C||v)&&p--;o++)_=v*f+(P[o]||0),A[o]=_/x|0,v=_%x|0;d=v||o<C}else{for(v=f/(x[0]+1)|0,v>1&&(x=e(x,v,f),P=e(P,v,f),b=x.length,C=P.length),F=b,m=P.slice(0,b),E=m.length;E<b;)m[E++]=0;N=x.slice(),N.unshift(0),B=x[0],x[1]>=f/2&&++B;do v=0,c=r(x,m,b,E),c<0?(y=m[0],b!=E&&(y=y*f+(m[1]||0)),v=y/B|0,v>1?(v>=f&&(v=f-1),l=e(x,v,f),g=l.length,E=m.length,c=r(l,m,g,E),c==1&&(v--,t(l,b<g?N:x,g,f))):(v==0&&(c=v=1),l=x.slice()),g=l.length,g<E&&l.unshift(0),t(m,l,E,f),c==-1&&(E=m.length,c=r(x,m,b,E),c<1&&(v++,t(m,b<E?N:x,E,f))),E=m.length):c===0&&(v++,m=[0]),A[o++]=v,c&&m[0]?m[E++]=P[F]||0:(m=[P[F]],E=1);while((F++<C||m[0]!==void 0)&&p--);d=m[0]!==void 0}A[0]||A.shift()}if(D==1)w.e=h,Di=d;else{for(o=1,v=A[0];v>=10;v/=10)o++;w.e=o+h*D-1,ee(w,s?u+w.e+1:u,a,d)}return w}}();function ee(e,r,t,n){var i,u,a,s,f,c,h,o,v,D=e.constructor;e:if(r!=null){if(o=e.d,!o)return e;for(i=1,s=o[0];s>=10;s/=10)i++;if(u=r-i,u<0)u+=te,a=r,h=o[v=0],f=h/xe(10,i-a-1)%10|0;else if(v=Math.ceil((u+1)/te),s=o.length,v>=s)if(n){for(;s++<=v;)o.push(0);h=f=0,i=1,u%=te,a=u-te+1}else break e;else{for(h=s=o[v],i=1;s>=10;s/=10)i++;u%=te,a=u-te+i,f=a<0?0:h/xe(10,i-a-1)%10|0}if(n=n||r<0||o[v+1]!==void 0||(a<0?h:h%xe(10,i-a-1)),c=t<4?(f||n)&&(t==0||t==(e.s<0?3:2)):f>5||f==5&&(t==4||n||t==6&&(u>0?a>0?h/xe(10,i-a):0:o[v-1])%10&1||t==(e.s<0?8:7)),r<1||!o[0])return o.length=0,c?(r-=e.e+1,o[0]=xe(10,(te-r%te)%te),e.e=-r||0):o[0]=e.e=0,e;if(u==0?(o.length=v,s=1,v--):(o.length=v+1,s=xe(10,te-u),o[v]=a>0?(h/xe(10,i-a)%xe(10,a)|0)*s:0),c)for(;;)if(v==0){for(u=1,a=o[0];a>=10;a/=10)u++;for(a=o[0]+=s,s=1;a>=10;a/=10)s++;u!=s&&(e.e++,o[0]==sr&&(o[0]=1));break}else{if(o[v]+=s,o[v]!=sr)break;o[v--]=0,s=1}for(u=o.length;o[--u]===0;)o.pop()}return ie&&(e.e>D.maxE?(e.d=null,e.e=NaN):e.e<D.minE&&(e.e=0,e.d=[0])),e}function vr(e,r,t){if(!e.isFinite())return Ei(e);var n,i=e.e,u=Re(e.d),a=u.length;return r?(t&&(n=t-a)>0?u=u.charAt(0)+"."+u.slice(1)+yr(n):a>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):i<0?(u="0."+yr(-i-1)+u,t&&(n=t-a)>0&&(u+=yr(n))):i>=a?(u+=yr(i+1-a),t&&(n=t-i-1)>0&&(u=u+"."+yr(n))):((n=i+1)<a&&(u=u.slice(0,n)+"."+u.slice(n)),t&&(n=t-a)>0&&(i+1===a&&(u+="."),u+=yr(n))),u}function Nt(e,r){var t=e[0];for(r*=te;t>=10;t/=10)r++;return r}function wt(e,r,t){if(r>Pa)throw ie=!0,t&&(e.precision=t),Error(pi);return ee(new e(gt),r,1,!0)}function lr(e,r,t){if(r>Gt)throw Error(pi);return ee(new e(mt),r,t,!0)}function wi(e){var r=e.length-1,t=r*te+1;if(r=e[r],r){for(;r%10==0;r/=10)t--;for(r=e[0];r>=10;r/=10)t++}return t}function yr(e){for(var r="";e--;)r+="0";return r}function yi(e,r,t,n){var i,u=new e(1),a=Math.ceil(n/te+4);for(ie=!1;;){if(t%2&&(u=u.times(r),yn(u.d,a)&&(i=!0)),t=He(t/2),t===0){t=u.d.length-1,i&&u.d[t]===0&&++u.d[t];break}r=r.times(r),yn(r.d,a)}return ie=!0,u}function wn(e){return e.d[e.d.length-1]&1}function Ai(e,r,t){for(var n,i,u=new e(r[0]),a=0;++a<r.length;){if(i=new e(r[a]),!i.s){u=i;break}n=u.cmp(i),(n===t||n===0&&u.s===t)&&(u=i)}return u}function Xt(e,r){var t,n,i,u,a,s,f,c=0,h=0,o=0,v=e.constructor,D=v.rounding,d=v.precision;if(!e.d||!e.d[0]||e.e>17)return new v(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(r==null?(ie=!1,f=d):f=r,s=new v(.03125);e.e>-2;)e=e.times(s),o+=5;for(n=Math.log(xe(2,o))/Math.LN10*2+5|0,f+=n,t=u=a=new v(1),v.precision=f;;){if(u=ee(u.times(e),f,1),t=t.times(++h),s=a.plus(Ae(u,t,f,1)),Re(s.d).slice(0,f)===Re(a.d).slice(0,f)){for(i=o;i--;)a=ee(a.times(a),f,1);if(r==null)if(c<3&&jr(a.d,f-n,D,c))v.precision=f+=10,t=u=s=new v(1),h=0,c++;else return ee(a,v.precision=d,D,ie=!0);else return v.precision=d,a}a=s}}function Er(e,r){var t,n,i,u,a,s,f,c,h,o,v,D=1,d=10,l=e,g=l.d,w=l.constructor,A=w.rounding,m=w.precision;if(l.s<0||!g||!g[0]||!l.e&&g[0]==1&&g.length==1)return new w(g&&!g[0]?-1/0:l.s!=1?NaN:g?0:l);if(r==null?(ie=!1,h=m):h=r,w.precision=h+=d,t=Re(g),n=t.charAt(0),Math.abs(u=l.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)l=l.times(e),t=Re(l.d),n=t.charAt(0),D++;u=l.e,n>1?(l=new w("0."+t),u++):l=new w(n+"."+t.slice(1))}else return c=wt(w,h+2,m).times(u+""),l=Er(new w(n+"."+t.slice(1)),h-d).plus(c),w.precision=m,r==null?ee(l,m,A,ie=!0):l;for(o=l,f=a=l=Ae(l.minus(1),l.plus(1),h,1),v=ee(l.times(l),h,1),i=3;;){if(a=ee(a.times(v),h,1),c=f.plus(Ae(a,new w(i),h,1)),Re(c.d).slice(0,h)===Re(f.d).slice(0,h))if(f=f.times(2),u!==0&&(f=f.plus(wt(w,h+2,m).times(u+""))),f=Ae(f,new w(D),h,1),r==null)if(jr(f.d,h-d,A,s))w.precision=h+=d,c=a=l=Ae(o.minus(1),o.plus(1),h,1),v=ee(l.times(l),h,1),i=s=1;else return ee(f,w.precision=m,A,ie=!0);else return w.precision=m,f;f=c,i+=2}}function Ei(e){return String(e.s*e.s/0)}function ht(e,r){var t,n,i;for((t=r.indexOf("."))>-1&&(r=r.replace(".","")),(n=r.search(/e/i))>0?(t<0&&(t=n),t+=+r.slice(n+1),r=r.substring(0,n)):t<0&&(t=r.length),n=0;r.charCodeAt(n)===48;n++);for(i=r.length;r.charCodeAt(i-1)===48;--i);if(r=r.slice(n,i),r){if(i-=n,e.e=t=t-n-1,e.d=[],n=(t+1)%te,t<0&&(n+=te),n<i){for(n&&e.d.push(+r.slice(0,n)),i-=te;n<i;)e.d.push(+r.slice(n,n+=te));r=r.slice(n),n=te-r.length}else n-=i;for(;n--;)r+="0";e.d.push(+r),ie&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Ra(e,r){var t,n,i,u,a,s,f,c,h;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),mi.test(r))return ht(e,r)}else if(r==="Infinity"||r==="NaN")return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(za.test(r))t=16,r=r.toLowerCase();else if(Ta.test(r))t=2;else if(Ia.test(r))t=8;else throw Error(_r+r);for(u=r.search(/p/i),u>0?(f=+r.slice(u+1),r=r.substring(2,u)):r=r.slice(2),u=r.indexOf("."),a=u>=0,n=e.constructor,a&&(r=r.replace(".",""),s=r.length,u=s-u,i=yi(n,new n(t),u,u*2)),c=lt(r,t,sr),h=c.length-1,u=h;c[u]===0;--u)c.pop();return u<0?new n(e.s*0):(e.e=Nt(c,h),e.d=c,ie=!1,a&&(e=Ae(e,i,s*4)),f&&(e=e.times(Math.abs(f)<54?xe(2,f):Zr.pow(2,f))),ie=!0,e)}function $a(e,r){var t,n=r.d.length;if(n<3)return r.isZero()?r:Hr(e,2,r,r);t=1.4*Math.sqrt(n),t=t>16?16:t|0,r=r.times(1/Tt(5,t)),r=Hr(e,2,r,r);for(var i,u=new e(5),a=new e(16),s=new e(20);t--;)i=r.times(r),r=r.times(u.plus(i.times(a.times(i).minus(s))));return r}function Hr(e,r,t,n,i){var u,a,s,f,c=e.precision,h=Math.ceil(c/te);for(ie=!1,f=t.times(t),s=new e(n);;){if(a=Ae(s.times(f),new e(r++*r++),c,1),s=i?n.plus(a):n.minus(a),n=Ae(a.times(f),new e(r++*r++),c,1),a=s.plus(n),a.d[h]!==void 0){for(u=h;a.d[u]===s.d[u]&&u--;);if(u==-1)break}u=s,s=n,n=a,a=u}return ie=!0,a.d.length=h+1,a}function Tt(e,r){for(var t=e;--r;)t*=e;return t}function Fi(e,r){var t,n=r.s<0,i=lr(e,e.precision,1),u=i.times(.5);if(r=r.abs(),r.lte(u))return pr=n?4:1,r;if(t=r.divToInt(i),t.isZero())pr=n?3:2;else{if(r=r.minus(t.times(i)),r.lte(u))return pr=wn(t)?n?2:3:n?4:1,r;pr=wn(t)?n?1:4:n?3:2}return r.minus(i).abs()}function tn(e,r,t,n){var i,u,a,s,f,c,h,o,v,D=e.constructor,d=t!==void 0;if(d?(Ke(t,1,Sr),n===void 0?n=D.rounding:Ke(n,0,8)):(t=D.precision,n=D.rounding),!e.isFinite())h=Ei(e);else{for(h=vr(e),a=h.indexOf("."),d?(i=2,r==16?t=t*4-3:r==8&&(t=t*3-2)):i=r,a>=0&&(h=h.replace(".",""),v=new D(1),v.e=h.length-a,v.d=lt(vr(v),10,i),v.e=v.d.length),o=lt(h,10,i),u=f=o.length;o[--f]==0;)o.pop();if(!o[0])h=d?"0p+0":"0";else{if(a<0?u--:(e=new D(e),e.d=o,e.e=u,e=Ae(e,v,t,n,0,i),o=e.d,u=e.e,c=Di),a=o[t],s=i/2,c=c||o[t+1]!==void 0,c=n<4?(a!==void 0||c)&&(n===0||n===(e.s<0?3:2)):a>s||a===s&&(n===4||c||n===6&&o[t-1]&1||n===(e.s<0?8:7)),o.length=t,c)for(;++o[--t]>i-1;)o[t]=0,t||(++u,o.unshift(1));for(f=o.length;!o[f-1];--f);for(a=0,h="";a<f;a++)h+=Yt.charAt(o[a]);if(d){if(f>1)if(r==16||r==8){for(a=r==16?4:3,--f;f%a;f++)h+="0";for(o=lt(h,i,r),f=o.length;!o[f-1];--f);for(a=1,h="1.";a<f;a++)h+=Yt.charAt(o[a])}else h=h.charAt(0)+"."+h.slice(1);h=h+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)h="0"+h;h="0."+h}else if(++u>f)for(u-=f;u--;)h+="0";else u<f&&(h=h.slice(0,u)+"."+h.slice(u))}h=(r==16?"0x":r==2?"0b":r==8?"0o":"")+h}return e.s<0?"-"+h:h}function yn(e,r){if(e.length>r)return e.length=r,!0}function La(e){return new this(e).abs()}function Ua(e){return new this(e).acos()}function Ha(e){return new this(e).acosh()}function Za(e,r){return new this(e).plus(r)}function Va(e){return new this(e).asin()}function Ya(e){return new this(e).asinh()}function Ja(e){return new this(e).atan()}function Ga(e){return new this(e).atanh()}function Xa(e,r){e=new this(e),r=new this(r);var t,n=this.precision,i=this.rounding,u=n+4;return!e.s||!r.s?t=new this(NaN):!e.d&&!r.d?(t=lr(this,u,1).times(r.s>0?.25:.75),t.s=e.s):!r.d||e.isZero()?(t=r.s<0?lr(this,n,i):new this(0),t.s=e.s):!e.d||r.isZero()?(t=lr(this,u,1).times(.5),t.s=e.s):r.s<0?(this.precision=u,this.rounding=1,t=this.atan(Ae(e,r,u,1)),r=lr(this,u,1),this.precision=n,this.rounding=i,t=e.s<0?t.minus(r):t.plus(r)):t=this.atan(Ae(e,r,u,1)),t}function Ka(e){return new this(e).cbrt()}function Qa(e){return ee(e=new this(e),e.e+1,2)}function Wa(e,r,t){return new this(e).clamp(r,t)}function ka(e){if(!e||typeof e!="object")throw Error(xt+"Object expected");var r,t,n,i=e.defaults===!0,u=["precision",1,Sr,"rounding",0,8,"toExpNeg",-Rr,0,"toExpPos",0,Rr,"maxE",0,Rr,"minE",-Rr,0,"modulo",0,9];for(r=0;r<u.length;r+=3)if(t=u[r],i&&(this[t]=Jt[t]),(n=e[t])!==void 0)if(He(n)===n&&n>=u[r+1]&&n<=u[r+2])this[t]=n;else throw Error(_r+t+": "+n);if(t="crypto",i&&(this[t]=Jt[t]),(n=e[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(di);else this[t]=!1;else throw Error(_r+t+": "+n);return this}function ja(e){return new this(e).cos()}function eo(e){return new this(e).cosh()}function Ci(e){var r,t,n;function i(u){var a,s,f,c=this;if(!(c instanceof i))return new i(u);if(c.constructor=i,An(u)){c.s=u.s,ie?!u.d||u.e>i.maxE?(c.e=NaN,c.d=null):u.e<i.minE?(c.e=0,c.d=[0]):(c.e=u.e,c.d=u.d.slice()):(c.e=u.e,c.d=u.d?u.d.slice():u.d);return}if(f=typeof u,f==="number"){if(u===0){c.s=1/u<0?-1:1,c.e=0,c.d=[0];return}if(u<0?(u=-u,c.s=-1):c.s=1,u===~~u&&u<1e7){for(a=0,s=u;s>=10;s/=10)a++;ie?a>i.maxE?(c.e=NaN,c.d=null):a<i.minE?(c.e=0,c.d=[0]):(c.e=a,c.d=[u]):(c.e=a,c.d=[u]);return}if(u*0!==0){u||(c.s=NaN),c.e=NaN,c.d=null;return}return ht(c,u.toString())}if(f==="string")return(s=u.charCodeAt(0))===45?(u=u.slice(1),c.s=-1):(s===43&&(u=u.slice(1)),c.s=1),mi.test(u)?ht(c,u):Ra(c,u);if(f==="bigint")return u<0?(u=-u,c.s=-1):c.s=1,ht(c,u.toString());throw Error(_r+u)}if(i.prototype=L,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=ka,i.clone=Ci,i.isDecimal=An,i.abs=La,i.acos=Ua,i.acosh=Ha,i.add=Za,i.asin=Va,i.asinh=Ya,i.atan=Ja,i.atanh=Ga,i.atan2=Xa,i.cbrt=Ka,i.ceil=Qa,i.clamp=Wa,i.cos=ja,i.cosh=eo,i.div=ro,i.exp=to,i.floor=no,i.hypot=io,i.ln=uo,i.log=ao,i.log10=so,i.log2=oo,i.max=fo,i.min=co,i.mod=lo,i.mul=ho,i.pow=vo,i.random=Do,i.round=po,i.sign=go,i.sin=mo,i.sinh=wo,i.sqrt=yo,i.sub=Ao,i.sum=Eo,i.tan=Fo,i.tanh=Co,i.trunc=_o,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<n.length;)e.hasOwnProperty(t=n[r++])||(e[t]=this[t]);return i.config(e),i}function ro(e,r){return new this(e).div(r)}function to(e){return new this(e).exp()}function no(e){return ee(e=new this(e),e.e+1,3)}function io(){var e,r,t=new this(0);for(ie=!1,e=0;e<arguments.length;)if(r=new this(arguments[e++]),r.d)t.d&&(t=t.plus(r.times(r)));else{if(r.s)return ie=!0,new this(1/0);t=r}return ie=!0,t.sqrt()}function An(e){return e instanceof Zr||e&&e.toStringTag===gi||!1}function uo(e){return new this(e).ln()}function ao(e,r){return new this(e).log(r)}function oo(e){return new this(e).log(2)}function so(e){return new this(e).log(10)}function fo(){return Ai(this,arguments,-1)}function co(){return Ai(this,arguments,1)}function lo(e,r){return new this(e).mod(r)}function ho(e,r){return new this(e).mul(r)}function vo(e,r){return new this(e).pow(r)}function Do(e){var r,t,n,i,u=0,a=new this(1),s=[];if(e===void 0?e=this.precision:Ke(e,1,Sr),n=Math.ceil(e/te),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(n));u<n;)i=r[u],i>=429e7?r[u]=crypto.getRandomValues(new Uint32Array(1))[0]:s[u++]=i%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(n*=4);u<n;)i=r[u]+(r[u+1]<<8)+(r[u+2]<<16)+((r[u+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(r,u):(s.push(i%1e7),u+=4);u=n/4}else throw Error(di);else for(;u<n;)s[u++]=Math.random()*1e7|0;for(n=s[--u],e%=te,n&&e&&(i=xe(10,te-e),s[u]=(n/i|0)*i);s[u]===0;u--)s.pop();if(u<0)t=0,s=[0];else{for(t=-1;s[0]===0;t-=te)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<te&&(t-=te-n)}return a.e=t,a.d=s,a}function po(e){return ee(e=new this(e),e.e+1,this.rounding)}function go(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function mo(e){return new this(e).sin()}function wo(e){return new this(e).sinh()}function yo(e){return new this(e).sqrt()}function Ao(e,r){return new this(e).sub(r)}function Eo(){var e=0,r=arguments,t=new this(r[e]);for(ie=!1;t.s&&++e<r.length;)t=t.plus(r[e]);return ie=!0,ee(t,this.precision,this.rounding)}function Fo(e){return new this(e).tan()}function Co(e){return new this(e).tanh()}function _o(e){return ee(e=new this(e),e.e+1,1)}L[Symbol.for("nodejs.util.inspect.custom")]=L.toString;L[Symbol.toStringTag]="Decimal";var Zr=L.constructor=Ci(Jt);gt=new Zr(gt);mt=new Zr(mt);var So="BigNumber",Bo=["?on","config"],bo=W(So,Bo,e=>{var{on:r,config:t}=e,n=Zr.clone({precision:t.precision,modulo:Zr.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},r&&r("config",function(i,u){i.precision!==u.precision&&n.config({precision:i.precision})}),n},{isClass:!0});const Ue=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},er=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},Mo=e=>{const r=Math.sin(.5*e);return-2*r*r},Lt=function(e,r){return e=Math.abs(e),r=Math.abs(r),e<r&&([e,r]=[r,e]),e<1e8?Math.sqrt(e*e+r*r):(r/=e,e*Math.sqrt(1+r*r))},Pr=function(){throw SyntaxError("Invalid Param")};function Ut(e,r){const t=Math.abs(e),n=Math.abs(r);return e===0?Math.log(n):r===0?Math.log(t):t<3e3&&n<3e3?Math.log(e*e+r*r)*.5:(e=e*.5,r=r*.5,.5*Math.log(e*e+r*r)+Math.LN2)}const xo={re:0,im:0},br=function(e,r){const t=xo;if(e==null)t.re=t.im=0;else if(r!==void 0)t.re=e,t.im=r;else switch(typeof e){case"object":if("im"in e&&"re"in e)t.re=e.re,t.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return z.INFINITY;t.re=e.abs*Math.cos(e.arg),t.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return z.INFINITY;t.re=e.r*Math.cos(e.phi),t.im=e.r*Math.sin(e.phi)}else e.length===2?(t.re=e[0],t.im=e[1]):Pr();break;case"string":t.im=t.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,u=0;n===null&&Pr();for(let a=0;a<n.length;a++){const s=n[a];s===" "||s==="	"||s===`
`||(s==="+"?i++:s==="-"?u++:s==="i"||s==="I"?(i+u===0&&Pr(),n[a+1]!==" "&&!isNaN(n[a+1])?(t.im+=parseFloat((u%2?"-":"")+n[a+1]),a++):t.im+=parseFloat((u%2?"-":"")+"1"),i=u=0):((i+u===0||isNaN(s))&&Pr(),n[a+1]==="i"||n[a+1]==="I"?(t.im+=parseFloat((u%2?"-":"")+s),a++):t.re+=parseFloat((u%2?"-":"")+s),i=u=0))}i+u>0&&Pr();break;case"number":t.im=0,t.re=e;break;default:Pr()}return isNaN(t.re)||isNaN(t.im),t};function z(e,r){if(!(this instanceof z))return new z(e,r);const t=br(e,r);this.re=t.re,this.im=t.im}z.prototype={re:0,im:0,sign:function(){const e=Lt(this.re,this.im);return new z(this.re/e,this.im/e)},add:function(e,r){const t=br(e,r),n=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return n||i?n&&i?z.NAN:z.INFINITY:new z(this.re+t.re,this.im+t.im)},sub:function(e,r){const t=br(e,r),n=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return n||i?n&&i?z.NAN:z.INFINITY:new z(this.re-t.re,this.im-t.im)},mul:function(e,r){const t=br(e,r),n=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),u=this.re===0&&this.im===0,a=t.re===0&&t.im===0;return n&&a||i&&u?z.NAN:n||i?z.INFINITY:t.im===0&&this.im===0?new z(this.re*t.re,0):new z(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(e,r){const t=br(e,r),n=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),u=this.re===0&&this.im===0,a=t.re===0&&t.im===0;if(u&&a||n&&i)return z.NAN;if(a||n)return z.INFINITY;if(u||i)return z.ZERO;if(t.im===0)return new z(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){const s=t.re/t.im,f=t.re*s+t.im;return new z((this.re*s+this.im)/f,(this.im*s-this.re)/f)}else{const s=t.im/t.re,f=t.im*s+t.re;return new z((this.re+this.im*s)/f,(this.im-this.re*s)/f)}},pow:function(e,r){const t=br(e,r),n=this.re===0&&this.im===0;if(t.re===0&&t.im===0)return z.ONE;if(t.im===0){if(this.im===0&&this.re>0)return new z(Math.pow(this.re,t.re),0);if(this.re===0)switch((t.re%4+4)%4){case 0:return new z(Math.pow(this.im,t.re),0);case 1:return new z(0,Math.pow(this.im,t.re));case 2:return new z(-Math.pow(this.im,t.re),0);case 3:return new z(0,-Math.pow(this.im,t.re))}}if(n&&t.re>0)return z.ZERO;const u=Math.atan2(this.im,this.re),a=Ut(this.re,this.im);let s=Math.exp(t.re*a-t.im*u),f=t.im*a+t.re*u;return new z(s*Math.cos(f),s*Math.sin(f))},sqrt:function(){const e=this.re,r=this.im;if(r===0)return e>=0?new z(Math.sqrt(e),0):new z(0,Math.sqrt(-e));const t=Lt(e,r);let n=Math.sqrt(.5*(t+Math.abs(e))),i=Math.abs(r)/(2*n);return e>=0?new z(n,r<0?-i:i):new z(i,r<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new z(e,0):new z(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,r=this.im;return new z(Math.expm1(e)*Math.cos(r)+Mo(r),Math.exp(e)*Math.sin(r))},log:function(){const e=this.re,r=this.im;return r===0&&e>0?new z(Math.log(e),0):new z(Ut(e,r),Math.atan2(r,e))},abs:function(){return Lt(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,r=this.im;return new z(Math.sin(e)*Ue(r),Math.cos(e)*er(r))},cos:function(){const e=this.re,r=this.im;return new z(Math.cos(e)*Ue(r),-Math.sin(e)*er(r))},tan:function(){const e=2*this.re,r=2*this.im,t=Math.cos(e)+Ue(r);return new z(Math.sin(e)/t,er(r)/t)},cot:function(){const e=2*this.re,r=2*this.im,t=Math.cos(e)-Ue(r);return new z(-Math.sin(e)/t,er(r)/t)},sec:function(){const e=this.re,r=this.im,t=.5*Ue(2*r)+.5*Math.cos(2*e);return new z(Math.cos(e)*Ue(r)/t,Math.sin(e)*er(r)/t)},csc:function(){const e=this.re,r=this.im,t=.5*Ue(2*r)-.5*Math.cos(2*e);return new z(Math.sin(e)*Ue(r)/t,-Math.cos(e)*er(r)/t)},asin:function(){const e=this.re,r=this.im,t=new z(r*r-e*e+1,-2*e*r).sqrt(),n=new z(t.re-r,t.im+e).log();return new z(n.im,-n.re)},acos:function(){const e=this.re,r=this.im,t=new z(r*r-e*e+1,-2*e*r).sqrt(),n=new z(t.re-r,t.im+e).log();return new z(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,r=this.im;if(e===0){if(r===1)return new z(0,1/0);if(r===-1)return new z(0,-1/0)}const t=e*e+(1-r)*(1-r),n=new z((1-r*r-e*e)/t,-2*e/t).log();return new z(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,r=this.im;if(r===0)return new z(Math.atan2(1,e),0);const t=e*e+r*r;return t!==0?new z(e/t,-r/t).atan():new z(e!==0?e/0:0,r!==0?-r/0:0).atan()},asec:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new z(0,1/0);const t=e*e+r*r;return t!==0?new z(e/t,-r/t).acos():new z(e!==0?e/0:0,r!==0?-r/0:0).acos()},acsc:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new z(Math.PI/2,1/0);const t=e*e+r*r;return t!==0?new z(e/t,-r/t).asin():new z(e!==0?e/0:0,r!==0?-r/0:0).asin()},sinh:function(){const e=this.re,r=this.im;return new z(er(e)*Math.cos(r),Ue(e)*Math.sin(r))},cosh:function(){const e=this.re,r=this.im;return new z(Ue(e)*Math.cos(r),er(e)*Math.sin(r))},tanh:function(){const e=2*this.re,r=2*this.im,t=Ue(e)+Math.cos(r);return new z(er(e)/t,Math.sin(r)/t)},coth:function(){const e=2*this.re,r=2*this.im,t=Ue(e)-Math.cos(r);return new z(er(e)/t,-Math.sin(r)/t)},csch:function(){const e=this.re,r=this.im,t=Math.cos(2*r)-Ue(2*e);return new z(-2*er(e)*Math.cos(r)/t,2*Ue(e)*Math.sin(r)/t)},sech:function(){const e=this.re,r=this.im,t=Math.cos(2*r)+Ue(2*e);return new z(2*Ue(e)*Math.cos(r)/t,-2*er(e)*Math.sin(r)/t)},asinh:function(){const e=this.re,r=this.im;if(r===0){if(e===0)return new z(0,0);const u=Math.abs(e),a=Math.log(u+Math.sqrt(u*u+1));return new z(e<0?-a:a,0)}const t=e*e-r*r+1,n=2*e*r,i=new z(t,n).sqrt();return new z(e+i.re,r+i.im).log()},acosh:function(){const e=this.re,r=this.im;if(r===0){if(e>1)return new z(Math.log(e+Math.sqrt(e-1)*Math.sqrt(e+1)),0);if(e<-1){const i=Math.sqrt(e*e-1);return new z(Math.log(-e+i),Math.PI)}return new z(0,Math.acos(e))}const t=new z(e-1,r).sqrt(),n=new z(e+1,r).sqrt();return new z(e+t.re*n.re-t.im*n.im,r+t.re*n.im+t.im*n.re).log()},atanh:function(){const e=this.re,r=this.im;if(r===0){if(e===0)return new z(0,0);if(e===1)return new z(1/0,0);if(e===-1)return new z(-1/0,0);if(-1<e&&e<1)return new z(.5*Math.log((1+e)/(1-e)),0);if(e>1){const f=(e+1)/(e-1);return new z(.5*Math.log(f),-Math.PI/2)}const s=(1+e)/(1-e);return new z(.5*Math.log(-s),Math.PI/2)}const t=1-e,n=1+e,i=t*t+r*r;if(i===0)return new z(e!==-1?e/0:0,r!==0?r/0:0);const u=(n*t-r*r)/i,a=(r*t+n*r)/i;return new z(Ut(u,a)/2,Math.atan2(a,u)/2)},acoth:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new z(0,Math.PI/2);const t=e*e+r*r;return t!==0?new z(e/t,-r/t).atanh():new z(e!==0?e/0:0,r!==0?-r/0:0).atanh()},acsch:function(){const e=this.re,r=this.im;if(r===0){if(e===0)return new z(1/0,0);const n=1/e;return new z(Math.log(n+Math.sqrt(n*n+1)),0)}const t=e*e+r*r;return t!==0?new z(e/t,-r/t).asinh():new z(e!==0?e/0:0,r!==0?-r/0:0).asinh()},asech:function(){const e=this.re,r=this.im;if(this.isZero())return z.INFINITY;const t=e*e+r*r;return t!==0?new z(e/t,-r/t).acosh():new z(e!==0?e/0:0,r!==0?-r/0:0).acosh()},inverse:function(){if(this.isZero())return z.INFINITY;if(this.isInfinite())return z.ZERO;const e=this.re,r=this.im,t=e*e+r*r;return new z(e/t,-r/t)},conjugate:function(){return new z(this.re,-this.im)},neg:function(){return new z(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new z(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new z(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new z(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,r){const t=br(e,r);return Math.abs(t.re-this.re)<=z.EPSILON&&Math.abs(t.im-this.im)<=z.EPSILON},clone:function(){return new z(this.re,this.im)},toString:function(){let e=this.re,r=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<z.EPSILON&&(e=0),Math.abs(r)<z.EPSILON&&(r=0),r===0?t+e:(e!==0?(t+=e,t+=" ",r<0?(r=-r,t+="-"):t+="+",t+=" "):r<0&&(r=-r,t+="-"),r!==1&&(t+=r),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};z.ZERO=new z(0,0);z.ONE=new z(1,0);z.I=new z(0,1);z.PI=new z(Math.PI,0);z.E=new z(Math.E,0);z.INFINITY=new z(1/0,1/0);z.NAN=new z(NaN,NaN);z.EPSILON=1e-15;var No="Complex",To=[],zo=W(No,To,()=>(Object.defineProperty(z,"name",{value:"Complex"}),z.prototype.constructor=z,z.prototype.type="Complex",z.prototype.isComplex=!0,z.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},z.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},z.prototype.format=function(e){var r="",t=this.im,n=this.re,i=Vt(this.re,e),u=Vt(this.im,e),a=De(e)?e:e?e.precision:null;if(a!==null){var s=Math.pow(10,-a);Math.abs(n/t)<s&&(n=0),Math.abs(t/n)<s&&(t=0)}return t===0?r=i:n===0?t===1?r="i":t===-1?r="-i":r=u+"i":t<0?t===-1?r=i+" - i":r=i+" - "+u.substring(1)+"i":t===1?r=i+" + i":r=i+" + "+u+"i",r},z.fromPolar=function(e){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return z(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],n=arguments[1];if(De(t)){if(oi(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),De(n))return new z({r:t,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},z.prototype.valueOf=z.prototype.toString,z.fromJSON=function(e){return new z(e)},z.compare=function(e,r){return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0},z),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const k=BigInt(0),ce=BigInt(1),Ie=BigInt(2),Qr=BigInt(3),$r=BigInt(5),Xe=BigInt(10);BigInt(Number.MAX_SAFE_INTEGER);const Io=2e3,J={s:ce,n:k,d:ce};function Dr(e,r){try{e=BigInt(e)}catch{throw wr()}return e*r}function or(e){return typeof e=="bigint"?e:Math.floor(e)}function Fe(e,r){if(r===k)throw nn();const t=Object.create(tr.prototype);t.s=e<k?-ce:ce,e=e<k?-e:e;const n=Mr(e,r);return t.n=e/n,t.d=r/n,t}const Oo=[Ie*Ie,Ie,Ie*Ie,Ie,Ie*Ie,Ie*Qr,Ie,Ie*Qr];function qr(e){const r=Object.create(null);if(e<=ce)return r[e]=ce,r;const t=n=>{r[n]=(r[n]||k)+ce};for(;e%Ie===k;)t(Ie),e/=Ie;for(;e%Qr===k;)t(Qr),e/=Qr;for(;e%$r===k;)t($r),e/=$r;for(let n=0,i=Ie+$r;i*i<=e;){for(;e%i===k;)t(i),e/=i;i+=Oo[n],n=n+1&7}return e>ce&&t(e),r}const ze=function(e,r){let t=k,n=ce,i=ce;if(e!=null)if(r!==void 0){if(typeof e=="bigint")t=e;else{if(isNaN(e))throw wr();if(e%1!==0)throw En();t=BigInt(e)}if(typeof r=="bigint")n=r;else{if(isNaN(r))throw wr();if(r%1!==0)throw En();n=BigInt(r)}i=t*n}else if(typeof e=="object"){if("d"in e&&"n"in e)t=BigInt(e.n),n=BigInt(e.d),"s"in e&&(t*=BigInt(e.s));else if(0 in e)t=BigInt(e[0]),1 in e&&(n=BigInt(e[1]));else if(typeof e=="bigint")t=e;else throw wr();i=t*n}else if(typeof e=="number"){if(isNaN(e))throw wr();if(e<0&&(i=-ce,e=-e),e%1===0)t=BigInt(e);else{let u=1,a=0,s=1,f=1,c=1,h=1e7;for(e>=1&&(u=10**Math.floor(1+Math.log10(e)),e/=u);s<=h&&c<=h;){let o=(a+f)/(s+c);if(e===o){s+c<=h?(t=a+f,n=s+c):c>s?(t=f,n=c):(t=a,n=s);break}else e>o?(a+=f,s+=c):(f+=a,c+=s),s>h?(t=f,n=c):(t=a,n=s)}t=BigInt(t)*BigInt(u),n=BigInt(n)}}else if(typeof e=="string"){let u=0,a=k,s=k,f=k,c=ce,h=ce,o=e.replace(/_/g,"").match(/\d+|./g);if(o===null)throw wr();if(o[u]==="-"?(i=-ce,u++):o[u]==="+"&&u++,o.length===u+1?s=Dr(o[u++],i):o[u+1]==="."||o[u]==="."?(o[u]!=="."&&(a=Dr(o[u++],i)),u++,(u+1===o.length||o[u+1]==="("&&o[u+3]===")"||o[u+1]==="'"&&o[u+3]==="'")&&(s=Dr(o[u],i),c=Xe**BigInt(o[u].length),u++),(o[u]==="("&&o[u+2]===")"||o[u]==="'"&&o[u+2]==="'")&&(f=Dr(o[u+1],i),h=Xe**BigInt(o[u+1].length)-ce,u+=3)):o[u+1]==="/"||o[u+1]===":"?(s=Dr(o[u],i),c=Dr(o[u+2],ce),u+=3):o[u+3]==="/"&&o[u+1]===" "&&(a=Dr(o[u],i),s=Dr(o[u+2],i),c=Dr(o[u+4],ce),u+=5),o.length<=u)n=c*h,i=t=f+n*a+h*s;else throw wr()}else if(typeof e=="bigint")t=e,i=e,n=ce;else throw wr();if(n===k)throw nn();J.s=i<k?-ce:ce,J.n=t<k?-t:t,J.d=n<k?-n:n};function Po(e,r,t){let n=ce;for(;r>k;e=e*e%t,r>>=ce)r&ce&&(n=n*e%t);return n}function qo(e,r){for(;r%Ie===k;r/=Ie);for(;r%$r===k;r/=$r);if(r===ce)return k;let t=Xe%r,n=1;for(;t!==ce;n++)if(t=t*Xe%r,n>Io)return k;return BigInt(n)}function Ro(e,r,t){let n=ce,i=Po(Xe,t,r);for(let u=0;u<300;u++){if(n===i)return BigInt(u);n=n*Xe%r,i=i*Xe%r}return 0}function Mr(e,r){if(!e)return r;if(!r)return e;for(;;){if(e%=r,!e)return r;if(r%=e,!r)return e}}function tr(e,r){if(ze(e,r),this instanceof tr)e=Mr(J.d,J.n),this.s=J.s,this.n=J.n/e,this.d=J.d/e;else return Fe(J.s*J.n,J.d)}const nn=function(){return new Error("Division by Zero")},wr=function(){return new Error("Invalid argument")},En=function(){return new Error("Parameters must be integer")};tr.prototype={s:ce,n:k,d:ce,abs:function(){return Fe(this.n,this.d)},neg:function(){return Fe(-this.s*this.n,this.d)},add:function(e,r){return ze(e,r),Fe(this.s*this.n*J.d+J.s*this.d*J.n,this.d*J.d)},sub:function(e,r){return ze(e,r),Fe(this.s*this.n*J.d-J.s*this.d*J.n,this.d*J.d)},mul:function(e,r){return ze(e,r),Fe(this.s*J.s*this.n*J.n,this.d*J.d)},div:function(e,r){return ze(e,r),Fe(this.s*J.s*this.n*J.d,this.d*J.n)},clone:function(){return Fe(this.s*this.n,this.d)},mod:function(e,r){if(e===void 0)return Fe(this.s*this.n%this.d,ce);if(ze(e,r),k===J.n*this.d)throw nn();return Fe(this.s*(J.d*this.n)%(J.n*this.d),J.d*this.d)},gcd:function(e,r){return ze(e,r),Fe(Mr(J.n,this.n)*Mr(J.d,this.d),J.d*this.d)},lcm:function(e,r){return ze(e,r),J.n===k&&this.n===k?Fe(k,ce):Fe(J.n*this.n,Mr(J.n,this.n)*Mr(J.d,this.d))},inverse:function(){return Fe(this.s*this.d,this.n)},pow:function(e,r){if(ze(e,r),J.d===ce)return J.s<k?Fe((this.s*this.d)**J.n,this.n**J.n):Fe((this.s*this.n)**J.n,this.d**J.n);if(this.s<k)return null;let t=qr(this.n),n=qr(this.d),i=ce,u=ce;for(let a in t)if(a!=="1"){if(a==="0"){i=k;break}if(t[a]*=J.n,t[a]%J.d===k)t[a]/=J.d;else return null;i*=BigInt(a)**t[a]}for(let a in n)if(a!=="1"){if(n[a]*=J.n,n[a]%J.d===k)n[a]/=J.d;else return null;u*=BigInt(a)**n[a]}return J.s<k?Fe(u,i):Fe(i,u)},log:function(e,r){if(ze(e,r),this.s<=k||J.s<=k)return null;const t=Object.create(null),n=qr(J.n),i=qr(J.d),u=qr(this.n),a=qr(this.d);for(const c in i)n[c]=(n[c]||k)-i[c];for(const c in a)u[c]=(u[c]||k)-a[c];for(const c in n)c!=="1"&&(t[c]=!0);for(const c in u)c!=="1"&&(t[c]=!0);let s=null,f=null;for(const c in t){const h=n[c]||k,o=u[c]||k;if(h===k){if(o!==k)return null;continue}let v=o,D=h;const d=Mr(v,D);if(v/=d,D/=d,s===null&&f===null)s=v,f=D;else if(v*f!==s*D)return null}return s!==null&&f!==null?Fe(s,f):null},equals:function(e,r){return ze(e,r),this.s*this.n*J.d===J.s*J.n*this.d},lt:function(e,r){return ze(e,r),this.s*this.n*J.d<J.s*J.n*this.d},lte:function(e,r){return ze(e,r),this.s*this.n*J.d<=J.s*J.n*this.d},gt:function(e,r){return ze(e,r),this.s*this.n*J.d>J.s*J.n*this.d},gte:function(e,r){return ze(e,r),this.s*this.n*J.d>=J.s*J.n*this.d},compare:function(e,r){ze(e,r);let t=this.s*this.n*J.d-J.s*J.n*this.d;return(k<t)-(t<k)},ceil:function(e){return e=Xe**BigInt(e||0),Fe(or(this.s*e*this.n/this.d)+(e*this.n%this.d>k&&this.s>=k?ce:k),e)},floor:function(e){return e=Xe**BigInt(e||0),Fe(or(this.s*e*this.n/this.d)-(e*this.n%this.d>k&&this.s<k?ce:k),e)},round:function(e){return e=Xe**BigInt(e||0),Fe(or(this.s*e*this.n/this.d)+this.s*((this.s>=k?ce:k)+Ie*(e*this.n%this.d)>this.d?ce:k),e)},roundTo:function(e,r){ze(e,r);const t=this.n*J.d,n=this.d*J.n,i=t%n;let u=or(t/n);return i+i>=n&&u++,Fe(this.s*u*J.n,J.d)},divisible:function(e,r){return ze(e,r),J.n===k?!1:this.n*J.d%(J.n*this.d)===k},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e=15){let r=this.n,t=this.d,n=qo(r,t),i=Ro(r,t,n),u=this.s<k?"-":"";if(u+=or(r/t),r%=t,r*=Xe,r&&(u+="."),n){for(let a=i;a--;)u+=or(r/t),r%=t,r*=Xe;u+="(";for(let a=n;a--;)u+=or(r/t),r%=t,r*=Xe;u+=")"}else for(let a=e;r&&a--;)u+=or(r/t),r%=t,r*=Xe;return u},toFraction:function(e=!1){let r=this.n,t=this.d,n=this.s<k?"-":"";if(t===ce)n+=r;else{const i=or(r/t);e&&i>k&&(n+=i,n+=" ",r%=t),n+=r,n+="/",n+=t}return n},toLatex:function(e=!1){let r=this.n,t=this.d,n=this.s<k?"-":"";if(t===ce)n+=r;else{const i=or(r/t);e&&i>k&&(n+=i,r%=t),n+="\\frac{",n+=r,n+="}{",n+=t,n+="}"}return n},toContinued:function(){let e=this.n,r=this.d;const t=[];for(;r;){t.push(or(e/r));const n=e%r;e=r,r=n}return t},simplify:function(e=.001){const r=BigInt(Math.ceil(1/e)),t=this.abs(),n=t.toContinued();for(let i=1;i<n.length;i++){let u=Fe(n[i-1],ce);for(let s=i-2;s>=0;s--)u=u.inverse().add(n[s]);let a=u.sub(t);if(a.n*r<a.d)return u.mul(this.s)}return this}};var $o="Fraction",Lo=[],Uo=W($o,Lo,()=>(Object.defineProperty(tr,"name",{value:"Fraction"}),tr.prototype.constructor=tr,tr.prototype.type="Fraction",tr.prototype.isFraction=!0,tr.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},tr.fromJSON=function(e){return new tr(e)},tr),{isClass:!0}),Ho="Matrix",Zo=[],Vo=W(Ho,Zo,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(r,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(r,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(r,t,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(r,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(r,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(r,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Ht(e,r,t){var n=e.constructor,i=new n(2),u="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Pe(t))throw new Error("size must be an integer");if(e.greaterThan(i.pow(t-1).sub(1))||e.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(t))),u="i".concat(t)}switch(r){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(r," not supported "))}}function Yo(e,r){if(typeof r=="function")return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:n,wordSize:i}=li(r);switch(t){case"fixed":return Go(e,n);case"exponential":return Fn(e,n);case"engineering":return Jo(e,n);case"bin":return Ht(e,2,i);case"oct":return Ht(e,8,i);case"hex":return Ht(e,16,i);case"auto":{var u=Cn(r==null?void 0:r.lowerExp,-3),a=Cn(r==null?void 0:r.upperExp,5);if(e.isZero())return"0";var s,f=e.toSignificantDigits(n),c=f.e;return c>=u&&c<a?s=f.toFixed():s=Fn(e,n),s.replace(/((\.\d*?)(0+))($|e)/,function(){var h=arguments[2],o=arguments[4];return h!=="."?h+o:o})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Jo(e,r){var t=e.e,n=t%3===0?t:t<0?t-3-t%3:t-t%3,i=e.mul(Math.pow(10,-n)),u=i.toPrecision(r);if(u.includes("e")){var a=e.constructor;u=new a(u).toFixed()}return u+"e"+(t>=0?"+":"")+n.toString()}function Fn(e,r){return r!==void 0?e.toExponential(r-1):e.toExponential()}function Go(e,r){return e.toFixed(r)}function Cn(e,r){return De(e)?e:qe(e)?e.toNumber():r}function Oe(e,r){var t=Xo(e,r);return r&&typeof r=="object"&&"truncate"in r&&t.length>r.truncate?t.substring(0,r.truncate-3)+"...":t}function Xo(e,r){if(typeof e=="number")return Vt(e,r);if(qe(e))return Yo(e,r);if(Ko(e))return!r||r.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return _i(e,r);if(cr(e))return _n(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(r);if(e&&e.toString(r)!=={}.toString())return e.toString(r);var t=Object.keys(e).map(n=>_n(n)+": "+Oe(e[n],r));return"{"+t.join(", ")+"}"}return String(e)}function _n(e){for(var r=String(e),t="",n=0;n<r.length;){var i=r.charAt(n);t+=i in Sn?Sn[i]:i,n++}return'"'+t+'"'}var Sn={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function _i(e,r){if(Array.isArray(e)){for(var t="[",n=e.length,i=0;i<n;i++)i!==0&&(t+=", "),t+=_i(e[i],r);return t+="]",t}else return Oe(e,r)}function Ko(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function pe(e,r,t){if(!(this instanceof pe))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=r,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}pe.prototype=new RangeError;pe.prototype.constructor=RangeError;pe.prototype.name="DimensionError";pe.prototype.isDimensionError=!0;function Tr(e,r,t){if(!(this instanceof Tr))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Tr.prototype=new RangeError;Tr.prototype.constructor=RangeError;Tr.prototype.name="IndexError";Tr.prototype.isIndexError=!0;function Ve(e){for(var r=[];Array.isArray(e);)r.push(e.length),e=e[0];return r}function Si(e,r,t){var n,i=e.length;if(i!==r[t])throw new pe(i,r[t]);if(t<r.length-1){var u=t+1;for(n=0;n<i;n++){var a=e[n];if(!Array.isArray(a))throw new pe(r.length-1,r.length,"<");Si(e[n],r,u)}}else for(n=0;n<i;n++)if(Array.isArray(e[n]))throw new pe(r.length+1,r.length,">")}function Bn(e,r){var t=r.length===0;if(t){if(Array.isArray(e))throw new pe(e.length,0)}else Si(e,r,0)}function _e(e,r){if(e!==void 0){if(!De(e)||!Pe(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof r=="number"&&e>=r)throw new Tr(e,r)}}function bn(e,r,t){if(!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(i){if(!De(i)||!Pe(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Oe(r)+")")}),(De(e)||qe(e))&&(e=[e]);var n=t!==void 0?t:0;return Kt(e,r,0,n),e}function Kt(e,r,t,n){var i,u,a=e.length,s=r[t],f=Math.min(a,s);if(e.length=s,t<r.length-1){var c=t+1;for(i=0;i<f;i++)u=e[i],Array.isArray(u)||(u=[u],e[i]=u),Kt(u,r,c,n);for(i=f;i<s;i++)u=[],e[i]=u,Kt(u,r,c,n)}else{for(i=0;i<f;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=f;i<s;i++)e[i]=n}}function Bi(e,r){var t=Wo(e,!0),n=t.length;if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new pe(0,n,"!=");r=un(r,n);var i=bi(r);if(n!==i)throw new pe(i,n,"!=");try{return Qo(t,r)}catch(u){throw u instanceof pe?new pe(i,n,"!="):u}}function un(e,r){var t=bi(e),n=e.slice(),i=-1,u=e.indexOf(i),a=e.indexOf(i,u+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var s=u>=0,f=r%t===0;if(s)if(f)n[u]=-r/t;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-t);return n}function bi(e){return e.reduce((r,t)=>r*t,1)}function Qo(e,r){for(var t=e,n,i=r.length-1;i>0;i--){var u=r[i];n=[];for(var a=t.length/u,s=0;s<a;s++)n.push(t.slice(s*u,(s+1)*u));t=n}return t}function Mi(e,r,t,n){var i=n||Ve(e);if(t)for(var u=0;u<t;u++)e=[e],i.unshift(1);for(e=xi(e,r,0);i.length<r;)i.push(1);return e}function xi(e,r,t){var n,i;if(Array.isArray(e)){var u=t+1;for(n=0,i=e.length;n<i;n++)e[n]=xi(e[n],r,u)}else for(var a=t;a<r;a++)e=[e];return e}function Wo(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(e))return e;if(typeof r!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var t=[];return r?i(e):n(e),t;function n(u){for(var a=0;a<u.length;a++){var s=u[a];Array.isArray(s)?n(s):t.push(s)}}function i(u){if(Array.isArray(u[0]))for(var a=0;a<u.length;a++)i(u[a]);else for(var s=0;s<u.length;s++)t.push(u[s])}}function an(e,r){for(var t,n=0,i=0;i<e.length;i++){var u=e[i],a=Array.isArray(u);if(i===0&&a&&(n=u.length),a&&u.length!==n)return;var s=a?an(u,r):r(u);if(t===void 0)t=s;else if(t!==s)return"mixed"}return t}function Ni(e,r,t,n){if(n<t){if(e.length!==r.length)throw new pe(e.length,r.length);for(var i=[],u=0;u<e.length;u++)i[u]=Ni(e[u],r[u],t,n+1);return i}else return e.concat(r)}function Ti(){var e=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(t,n){return Ni(t,n,r,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function zi(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var n=r.map(v=>v.length),i=Math.max(...n),u=new Array(i).fill(null),a=0;a<r.length;a++)for(var s=r[a],f=n[a],c=0;c<f;c++){var h=i-f+c;s[c]>u[h]&&(u[h]=s[c])}for(var o=0;o<r.length;o++)Ii(r[o],u);return u}function Ii(e,r){for(var t=r.length,n=e.length,i=0;i<n;i++){var u=t-n+i;if(e[i]<r[u]&&e[i]>1||e[i]>r[u])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[i]," to size ").concat(r[u]))}}function Qt(e,r){var t=Ve(e);if(Cr(t,r))return e;Ii(t,r);var n=zi(t,r),i=n.length,u=[...Array(i-t.length).fill(1),...t],a=jo(e);t.length<i&&(a=Bi(a,u),t=Ve(a));for(var s=0;s<i;s++)t[s]<n[s]&&(a=ko(a,n[s],s),t=Ve(a));return a}function ko(e,r,t){return Ti(...Array(r).fill(e),t)}function Oi(e,r){if(!Array.isArray(e))throw new Error("Array expected");var t=Ve(e);if(r.length!==t.length)throw new pe(r.length,t.length);for(var n=0;n<r.length;n++)_e(r[n],t[n]);return r.reduce((i,u)=>i[u],e)}function Mn(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.length===0)return[];if(t)return u(e);var n=[];return i(e,0);function i(a,s){if(Array.isArray(a)){for(var f=a.length,c=Array(f),h=0;h<f;h++)n[s]=h,c[h]=i(a[h],s+1);return c}else return r(a,n.slice(0,s),e)}function u(a){if(Array.isArray(a)){for(var s=a.length,f=Array(s),c=0;c<s;c++)f[c]=u(a[c]);return f}else return r(a)}}function jo(e){return vt([],e)}function yt(e,r,t,n){if(dt.isTypedFunction(e)){var i;if(n)i=1;else{var u=r.isMatrix?r.size():Ve(r),a=u.length?u[u.length-1]===0:!0;if(a)return{isUnary:n,fn:e};var s=u.map(()=>0),f=r.isMatrix?r.get(s):Oi(r,s);i=ts(e,f,s,r)}var c;if(r.isMatrix&&r.dataType!=="mixed"&&r.dataType!==void 0){var h=es(e,i);c=h!==void 0?h:e}else c=e;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var v=arguments.length,D=new Array(v),d=0;d<v;d++)D[d]=arguments[d];return xn(c,D.slice(0,i),t,e.name)}}:{isUnary:!1,fn:function(){for(var v=arguments.length,D=new Array(v),d=0;d<v;d++)D[d]=arguments[d];return xn(c,D,t,e.name)}}}return n===void 0?{isUnary:rs(e),fn:e}:{isUnary:n,fn:e}}function es(e,r){var t=[];if(Object.entries(e.signatures).forEach(n=>{var[i,u]=n;i.split(",").length===r&&t.push(u)}),t.length===1)return t[0]}function rs(e){if(e.length!==1)return!1;var r=e.toString();if(/arguments/.test(r))return!1;var t=r.match(/\(.*?\)/);return!/\.\.\./.test(t)}function ts(e,r,t,n){for(var i=[r,t,n],u=3;u>0;u--){var a=i.slice(0,u);if(dt.resolve(e,a)!==null)return u}}function xn(e,r,t,n){try{return e(...r)}catch(i){ns(i,r,t,n)}}function ns(e,r,t,n){var i;if(e instanceof TypeError&&((i=e.data)===null||i===void 0?void 0:i.category)==="wrongType"){var u=[];throw u.push("value: ".concat(Fr(r[0]))),r.length>=2&&u.push("index: ".concat(Fr(r[1]))),r.length>=3&&u.push("array: ".concat(Fr(r[2]))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(n,"(").concat(u.join(", "),") at index ").concat(JSON.stringify(r[1])))}else throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(e.message))}var is="DenseMatrix",us=["Matrix","config"],as=W(is,us,e=>{var{Matrix:r,config:t}=e;function n(o,v){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!cr(v))throw new Error("Invalid datatype: "+v);if(Ne(o))o.type==="DenseMatrix"?(this._data=Se(o._data),this._size=Se(o._size),this._datatype=v||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=v||o._datatype);else if(o&&Be(o.data)&&Be(o.size))this._data=o.data,this._size=o.size,Bn(this._data,this._size),this._datatype=v||o.datatype;else if(Be(o))this._data=h(o),this._size=Ve(this._data),Bn(this._data,this._size),this._datatype=v;else{if(o)throw new TypeError("Unsupported type of data ("+Fr(o)+")");this._data=[],this._size=[0],this._datatype=v}}n.prototype=new r,n.prototype.createDenseMatrix=function(o,v){return new n(o,v)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return an(this._data,Fr)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(o,v){return new n(o,v)},n.prototype.subset=function(o,v,D){switch(arguments.length){case 1:return i(this,o);case 2:case 3:return a(this,o,v,D);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(o){return Oi(this._data,o)},n.prototype.set=function(o,v,D){if(!Be(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new pe(o.length,this._size.length,"<");var d,l,g,w=o.map(function(m){return m+1});c(this,w,D);var A=this._data;for(d=0,l=o.length-1;d<l;d++)g=o[d],_e(g,A.length),A=A[g];return g=o[o.length-1],_e(g,A.length),A[g]=v,this};function i(o,v){if(!en(v))throw new TypeError("Invalid index");var D=t.legacySubset?v.size().every(y=>y===1):v.isScalar();if(D)return o.get(v.min());var d=v.size();if(d.length!==o._size.length)throw new pe(d.length,o._size.length);for(var l=v.min(),g=v.max(),w=0,A=o._size.length;w<A;w++)_e(l[w],o._size[w]),_e(g[w],o._size[w]);var m=new n,E=u(o._data,v);return m._size=E.size,m._datatype=o._datatype,m._data=E.data,t.legacySubset?m.reshape(v.size()):m}function u(o,v){var D=v.size().length-1,d=Array(D);return{data:l(o),size:d.filter(g=>g!==null)};function l(g){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=v.dimension(w);function m(E,y){return De(E)?y(E):E.map(y).valueOf()}return De(A)?d[w]=null:d[w]=A.size()[0],w<D?m(A,E=>(_e(E,g.length),l(g[E],w+1))):m(A,E=>(_e(E,g.length),g[E]))}}function a(o,v,D,d){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var l=v.size(),g=v.isScalar(),w;if(Ne(D)?(w=D.size(),D=D.valueOf()):w=Ve(D),g){if(w.length!==0)throw new TypeError("Scalar expected");o.set(v.min(),D,d)}else{if(!Cr(w,l)){if(w.length===0)D=Qt([D],l);else try{D=Qt(D,l)}catch{}w=Ve(D)}if(l.length<o._size.length)throw new pe(l.length,o._size.length,"<");if(w.length<l.length){for(var A=0,m=0;l[A]===1&&w[A]===1;)A++;for(;l[A]===1;)m++,A++;D=Mi(D,l.length,m,w)}if(!Cr(l,w))throw new pe(l,w,">");var E=v.max().map(function(y){return y+1});c(o,E,d),s(o._data,v,D)}return o}function s(o,v,D){var d=v.size().length-1;l(o,D);function l(g,w){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,m=v.dimension(A),E=(p,_)=>{_e(p,g.length),l(g[p],w[_[0]],A+1)},y=(p,_)=>{_e(p,g.length),g[p]=w[_[0]]};A<d?De(m)?E(m,[0]):m.forEach(E):De(m)?y(m,[0]):m.forEach(y)}}n.prototype.resize=function(o,v,D){if(!pt(o))throw new TypeError("Array or Matrix expected");var d=o.valueOf().map(g=>Array.isArray(g)&&g.length===1?g[0]:g),l=D?this.clone():this;return f(l,d,v)};function f(o,v,D){if(v.length===0){for(var d=o._data;Be(d);)d=d[0];return d}return o._size=v.slice(0),o._data=bn(o._data,o._size,D),o}n.prototype.reshape=function(o,v){var D=v?this.clone():this;D._data=Bi(D._data,o);var d=D._size.reduce((l,g)=>l*g);return D._size=un(o,d),D};function c(o,v,D){for(var d=o._size.slice(0),l=!1;d.length<v.length;)d.push(0),l=!0;for(var g=0,w=v.length;g<w;g++)v[g]>d[g]&&(d[g]=v[g],l=!0);l&&f(o,d,D)}n.prototype.clone=function(){var o=new n({data:Se(this._data),size:Se(this._size),datatype:this._datatype});return o},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(o){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=this,d=D._size.length-1;if(d<0)return D.clone();var l=yt(o,D,"map",v),g=l.fn,w=D.create(void 0,D._datatype);if(w._size=D._size,v||l.isUnary)return w._data=_(D._data),w;if(d===0){for(var A=D.valueOf(),m=Array(A.length),E=0;E<A.length;E++)m[E]=g(A[E],[E],D);return w._data=m,w}var y=[];return w._data=p(D._data),w;function p(F){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=Array(F.length);if(C<d)for(var b=0;b<F.length;b++)y[C]=b,B[b]=p(F[b],C+1);else for(var N=0;N<F.length;N++)y[C]=N,B[N]=g(F[N],y.slice(),D);return B}function _(F){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=Array(F.length);if(C<d)for(var b=0;b<F.length;b++)B[b]=_(F[b],C+1);else for(var N=0;N<F.length;N++)B[N]=g(F[N]);return B}},n.prototype.forEach=function(o){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=this,d=D._size.length-1;if(d<0)return;var l=yt(o,D,"map",v),g=l.fn;if(v||l.isUnary){E(D._data);return}if(d===0){for(var w=0;w<D._data.length;w++)g(D._data[w],[w],D);return}var A=[];m(D._data);function m(y){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(p<d)for(var _=0;_<y.length;_++)A[p]=_,m(y[_],p+1);else for(var F=0;F<y.length;F++)A[p]=F,g(y[F],A.slice(),D)}function E(y){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(p<d)for(var _=0;_<y.length;_++)E(y[_],p+1);else for(var F=0;F<y.length;F++)g(y[F])}},n.prototype[Symbol.iterator]=function*(){var o=this._size.length-1;if(!(o<0)){if(o===0){for(var v=0;v<this._data.length;v++)yield{value:this._data[v],index:[v]};return}for(var D=Array(o+1).fill(0),d=this._size.reduce((m,E)=>m*E,1),l=0;l<d;l++){for(var g=this._data,w=0;w<o;w++)g=g[D[w]];yield{value:g[D[o]],index:D.slice()};for(var A=o;A>=0&&(D[A]++,!(D[A]<this._size[A]));A--)D[A]=0}}},n.prototype.rows=function(){var o=[],v=this.size();if(v.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var D=this._data;for(var d of D)o.push(new n([d],this._datatype));return o},n.prototype.columns=function(){var o=this,v=[],D=this.size();if(D.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var d=this._data,l=function(A){var m=d.map(E=>[E[A]]);v.push(new n(m,o._datatype))},g=0;g<D[1];g++)l(g);return v},n.prototype.toArray=function(){return Se(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(o){return Oe(this._data,o)},n.prototype.toString=function(){return Oe(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(o){if(o){if(qe(o)&&(o=o.toNumber()),!De(o)||!Pe(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var v=o>0?o:0,D=o<0?-o:0,d=this._size[0],l=this._size[1],g=Math.min(d-D,l-v),w=[],A=0;A<g;A++)w[A]=this._data[A+D][A+v];return new n({data:w,size:[g],datatype:this._datatype})},n.diagonal=function(o,v,D,d){if(!Be(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(F){if(qe(F)&&(F=F.toNumber()),!De(F)||!Pe(F)||F<1)throw new Error("Size values must be positive integers");return F}),D){if(qe(D)&&(D=D.toNumber()),!De(D)||!Pe(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var l=D>0?D:0,g=D<0?-D:0,w=o[0],A=o[1],m=Math.min(w-g,A-l),E;if(Be(v)){if(v.length!==m)throw new Error("Invalid value array length");E=function(C){return v[C]}}else if(Ne(v)){var y=v.size();if(y.length!==1||y[0]!==m)throw new Error("Invalid matrix length");E=function(C){return v.get([C])}}else E=function(){return v};d||(d=qe(E(0))?E(0).mul(0):0);var p=[];if(o.length>0){p=bn(p,o,d);for(var _=0;_<m;_++)p[_+g][_+l]=E(_)}return new n({data:p,size:[w,A]})},n.fromJSON=function(o){return new n(o)},n.prototype.swapRows=function(o,v){if(!De(o)||!Pe(o)||!De(v)||!Pe(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return _e(o,this._size[0]),_e(v,this._size[0]),n._swapRows(o,v,this._data),this},n._swapRows=function(o,v,D){var d=D[o];D[o]=D[v],D[v]=d};function h(o){return Ne(o)?h(o.valueOf()):Be(o)?o.map(h):o}return n},{isClass:!0});function zr(e,r,t){if(!t)return Ne(e)?e.map(i=>r(i),!1,!0):Mn(e,r,!0);var n=i=>i===0?i:r(i);return Ne(e)?e.map(i=>n(i),!1,!0):Mn(e,n,!0)}var Nn="isInteger",os=["typed","equal"],ss=W(Nn,os,e=>{var{typed:r,equal:t}=e;return r(Nn,{number:n=>Number.isFinite(n)?t(n,Math.round(n)):!1,BigNumber:n=>n.isFinite()?t(n.round(),n):!1,bigint:n=>!0,Fraction:n=>n.d===1n,"Array | Matrix":r.referToSelf(n=>i=>zr(i,n))})}),Pi="number",on="number, number";function qi(e){return Math.abs(e)}qi.signature=Pi;function Ri(e,r){return e+r}Ri.signature=on;function $i(e,r){return e-r}$i.signature=on;function Li(e,r){return e*r}Li.signature=on;function Ui(e){return-e}Ui.signature=Pi;function zt(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||r.isNaN()?!1:!e.isFinite()||!r.isFinite()?e.eq(r):e.eq(r)?!0:e.minus(r).abs().lte(e.constructor.max(e.constructor.max(e.abs(),r.abs()).mul(t),n))}function fs(e,r,t,n){return xr(e.re,r.re,t,n)&&xr(e.im,r.im,t,n)}var It=W("compareUnits",["typed"],e=>{var{typed:r}=e;return{"Unit, Unit":r.referToSelf(t=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return r.find(t,[n.valueType(),i.valueType()])(n.value,i.value)})}}),At="equalScalar",cs=["typed","config"],ls=W(At,cs,e=>{var{typed:r,config:t}=e,n=It({typed:r});return r(At,{"boolean, boolean":function(u,a){return u===a},"number, number":function(u,a){return xr(u,a,t.relTol,t.absTol)},"BigNumber, BigNumber":function(u,a){return u.eq(a)||zt(u,a,t.relTol,t.absTol)},"bigint, bigint":function(u,a){return u===a},"Fraction, Fraction":function(u,a){return u.equals(a)},"Complex, Complex":function(u,a){return fs(u,a,t.relTol,t.absTol)}},n)});W(At,["typed","config"],e=>{var{typed:r,config:t}=e;return r(At,{"number, number":function(i,u){return xr(i,u,t.relTol,t.absTol)}})});var hs="SparseMatrix",vs=["typed","equalScalar","Matrix"],Ds=W(hs,vs,e=>{var{typed:r,equalScalar:t,Matrix:n}=e;function i(l,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!cr(g))throw new Error("Invalid datatype: "+g);if(Ne(l))u(this,l,g);else if(l&&Be(l.index)&&Be(l.ptr)&&Be(l.size))this._values=l.values,this._index=l.index,this._ptr=l.ptr,this._size=l.size,this._datatype=g||l.datatype;else if(Be(l))a(this,l,g);else{if(l)throw new TypeError("Unsupported type of data ("+Fr(l)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function u(l,g,w){g.type==="SparseMatrix"?(l._values=g._values?Se(g._values):void 0,l._index=Se(g._index),l._ptr=Se(g._ptr),l._size=Se(g._size),l._datatype=w||g._datatype):a(l,g.valueOf(),w||g._datatype)}function a(l,g,w){l._values=[],l._index=[],l._ptr=[],l._datatype=w;var A=g.length,m=0,E=t,y=0;if(cr(w)&&(E=r.find(t,[w,w])||t,y=r.convert(0,w)),A>0){var p=0;do{l._ptr.push(l._index.length);for(var _=0;_<A;_++){var F=g[_];if(Be(F)){if(p===0&&m<F.length&&(m=F.length),p<F.length){var C=F[p];E(C,y)||(l._values.push(C),l._index.push(_))}}else p===0&&m<1&&(m=1),E(F,y)||(l._values.push(F),l._index.push(_))}p++}while(p<m)}for(;l._ptr.length<=m;)l._ptr.push(l._index.length);l._size=[A,m]}i.prototype=new n,i.prototype.createSparseMatrix=function(l,g){return new i(l,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return an(this._values,Fr)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(l,g){return new i(l,g)},i.prototype.density=function(){var l=this._size[0],g=this._size[1];return l!==0&&g!==0?this._index.length/(l*g):0},i.prototype.subset=function(l,g,w){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,l);case 2:case 3:return f(this,l,g,w);default:throw new SyntaxError("Wrong number of arguments")}};function s(l,g){if(!en(g))throw new TypeError("Invalid index");var w=g.isScalar();if(w)return l.get(g.min());var A=g.size();if(A.length!==l._size.length)throw new pe(A.length,l._size.length);var m,E,y,p,_=g.min(),F=g.max();for(m=0,E=l._size.length;m<E;m++)_e(_[m],l._size[m]),_e(F[m],l._size[m]);var C=l._values,B=l._index,b=l._ptr,N=g.dimension(0),R=g.dimension(1),O=[],P=[];function x(Q,ae){P[Q]=ae[0],O[Q]=!0}Number.isInteger(N)?x(N,[0]):N.forEach(x);var G=C?[]:void 0,Z=[],I=[];function V(Q){for(I.push(Z.length),y=b[Q],p=b[Q+1];y<p;y++)m=B[y],O[m]===!0&&(Z.push(P[m]),G&&G.push(C[y]))}return Number.isInteger(R)?V(R):R.forEach(V),I.push(Z.length),new i({values:G,index:Z,ptr:I,size:A,datatype:l._datatype})}function f(l,g,w,A){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var m=g.size(),E=g.isScalar(),y;if(Ne(w)?(y=w.size(),w=w.toArray()):y=Ve(w),E){if(y.length!==0)throw new TypeError("Scalar expected");l.set(g.min(),w,A)}else{if(m.length!==1&&m.length!==2)throw new pe(m.length,l._size.length,"<");if(y.length<m.length){for(var p=0,_=0;m[p]===1&&y[p]===1;)p++;for(;m[p]===1;)_++,p++;w=Mi(w,m.length,_,y)}if(!Cr(m,y))throw new pe(m,y,">");if(m.length===1){var F=g.dimension(0);b(F,(N,R)=>{_e(N),l.set([N,0],w[R[0]],A)})}else{var C=g.dimension(0),B=g.dimension(1);b(C,(N,R)=>{_e(N),b(B,(O,P)=>{_e(O),l.set([N,O],w[R[0]][P[0]],A)})})}}return l;function b(N,R){De(N)?R(N,[0]):N.forEach(R)}}i.prototype.get=function(l){if(!Be(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new pe(l.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=l[0],w=l[1];_e(g,this._size[0]),_e(w,this._size[1]);var A=c(g,this._ptr[w],this._ptr[w+1],this._index);return A<this._ptr[w+1]&&this._index[A]===g?this._values[A]:0},i.prototype.set=function(l,g,w){if(!Be(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new pe(l.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var A=l[0],m=l[1],E=this._size[0],y=this._size[1],p=t,_=0;cr(this._datatype)&&(p=r.find(t,[this._datatype,this._datatype])||t,_=r.convert(0,this._datatype)),(A>E-1||m>y-1)&&(v(this,Math.max(A+1,E),Math.max(m+1,y),w),E=this._size[0],y=this._size[1]),_e(A,E),_e(m,y);var F=c(A,this._ptr[m],this._ptr[m+1],this._index);return F<this._ptr[m+1]&&this._index[F]===A?p(g,_)?h(F,m,this._values,this._index,this._ptr):this._values[F]=g:p(g,_)||o(F,A,m,g,this._values,this._index,this._ptr),this};function c(l,g,w,A){if(w-g===0)return w;for(var m=g;m<w;m++)if(A[m]===l)return m;return g}function h(l,g,w,A,m){w.splice(l,1),A.splice(l,1);for(var E=g+1;E<m.length;E++)m[E]--}function o(l,g,w,A,m,E,y){m.splice(l,0,A),E.splice(l,0,g);for(var p=w+1;p<y.length;p++)y[p]++}i.prototype.resize=function(l,g,w){if(!pt(l))throw new TypeError("Array or Matrix expected");var A=l.valueOf().map(E=>Array.isArray(E)&&E.length===1?E[0]:E);if(A.length!==2)throw new Error("Only two dimensions matrix are supported");A.forEach(function(E){if(!De(E)||!Pe(E)||E<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Oe(A)+")")});var m=w?this.clone():this;return v(m,A[0],A[1],g)};function v(l,g,w,A){var m=A||0,E=t,y=0;cr(l._datatype)&&(E=r.find(t,[l._datatype,l._datatype])||t,y=r.convert(0,l._datatype),m=r.convert(m,l._datatype));var p=!E(m,y),_=l._size[0],F=l._size[1],C,B,b;if(w>F){for(B=F;B<w;B++)if(l._ptr[B]=l._values.length,p)for(C=0;C<_;C++)l._values.push(m),l._index.push(C);l._ptr[w]=l._values.length}else w<F&&(l._ptr.splice(w+1,F-w),l._values.splice(l._ptr[w],l._values.length),l._index.splice(l._ptr[w],l._index.length));if(F=w,g>_){if(p){var N=0;for(B=0;B<F;B++){l._ptr[B]=l._ptr[B]+N,b=l._ptr[B+1]+N;var R=0;for(C=_;C<g;C++,R++)l._values.splice(b+R,0,m),l._index.splice(b+R,0,C),N++}l._ptr[F]=l._values.length}}else if(g<_){var O=0;for(B=0;B<F;B++){l._ptr[B]=l._ptr[B]-O;var P=l._ptr[B],x=l._ptr[B+1]-O;for(b=P;b<x;b++)C=l._index[b],C>g-1&&(l._values.splice(b,1),l._index.splice(b,1),O++)}l._ptr[B]=l._values.length}return l._size[0]=g,l._size[1]=w,l}i.prototype.reshape=function(l,g){if(!Be(l))throw new TypeError("Array expected");if(l.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");l.forEach(function(I){if(!De(I)||!Pe(I)||I<=-2||I===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Oe(l)+")")});var w=this._size[0]*this._size[1];l=un(l,w);var A=l[0]*l[1];if(w!==A)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var m=g?this.clone():this;if(this._size[0]===l[0]&&this._size[1]===l[1])return m;for(var E=[],y=0;y<m._ptr.length;y++)for(var p=0;p<m._ptr[y+1]-m._ptr[y];p++)E.push(y);for(var _=m._values.slice(),F=m._index.slice(),C=0;C<m._index.length;C++){var B=F[C],b=E[C],N=B*m._size[1]+b;E[C]=N%l[1],F[C]=Math.floor(N/l[1])}m._values.length=0,m._index.length=0,m._ptr.length=l[1]+1,m._size=l.slice();for(var R=0;R<m._ptr.length;R++)m._ptr[R]=0;for(var O=0;O<_.length;O++){var P=F[O],x=E[O],G=_[O],Z=c(P,m._ptr[x],m._ptr[x+1],m._index);o(Z,P,x,G,m._values,m._index,m._ptr)}return m},i.prototype.clone=function(){var l=new i({values:this._values?Se(this._values):void 0,index:Se(this._index),ptr:Se(this._ptr),size:Se(this._size),datatype:this._datatype});return l},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(l,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var w=this,A=this._size[0],m=this._size[1],E=yt(l,w,"map"),y=function(_,F,C){return E.fn(_,[F,C],w)};return D(this,0,A-1,0,m-1,y,g)};function D(l,g,w,A,m,E,y){var p=[],_=[],F=[],C=t,B=0;cr(l._datatype)&&(C=r.find(t,[l._datatype,l._datatype])||t,B=r.convert(0,l._datatype));for(var b=function(ne,j,de){var fe=E(ne,j,de);C(fe,B)||(p.push(fe),_.push(j))},N=A;N<=m;N++){F.push(p.length);var R=l._ptr[N],O=l._ptr[N+1];if(y)for(var P=R;P<O;P++){var x=l._index[P];x>=g&&x<=w&&b(l._values[P],x-g,N-A)}else{for(var G={},Z=R;Z<O;Z++){var I=l._index[Z];G[I]=l._values[Z]}for(var V=g;V<=w;V++){var Q=V in G?G[V]:0;b(Q,V-g,N-A)}}}return F.push(p.length),new i({values:p,index:_,ptr:F,size:[w-g+1,m-A+1]})}i.prototype.forEach=function(l,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var w=this,A=this._size[0],m=this._size[1],E=yt(l,w,"forEach"),y=0;y<m;y++){var p=this._ptr[y],_=this._ptr[y+1];if(g)for(var F=p;F<_;F++){var C=this._index[F];E.fn(this._values[F],[C,y],w)}else{for(var B={},b=p;b<_;b++){var N=this._index[b];B[N]=this._values[b]}for(var R=0;R<A;R++){var O=R in B?B[R]:0;E.fn(O,[R,y],w)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var l=this._size[1],g=0;g<l;g++)for(var w=this._ptr[g],A=this._ptr[g+1],m=w;m<A;m++){var E=this._index[m];yield{value:this._values[m],index:[E,g]}}},i.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)};function d(l,g,w,A,m){var E=A[0],y=A[1],p=[],_,F;for(_=0;_<E;_++)for(p[_]=[],F=0;F<y;F++)p[_][F]=0;for(F=0;F<y;F++)for(var C=w[F],B=w[F+1],b=C;b<B;b++)_=g[b],p[_][F]=l?m?Se(l[b]):l[b]:1;return p}return i.prototype.format=function(l){for(var g=this._size[0],w=this._size[1],A=this.density(),m="Sparse Matrix ["+Oe(g,l)+" x "+Oe(w,l)+"] density: "+Oe(A,l)+`
`,E=0;E<w;E++)for(var y=this._ptr[E],p=this._ptr[E+1],_=y;_<p;_++){var F=this._index[_];m+=`
    (`+Oe(F,l)+", "+Oe(E,l)+") ==> "+(this._values?Oe(this._values[_],l):"X")}return m},i.prototype.toString=function(){return Oe(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(l){if(l){if(qe(l)&&(l=l.toNumber()),!De(l)||!Pe(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var g=l>0?l:0,w=l<0?-l:0,A=this._size[0],m=this._size[1],E=Math.min(A-w,m-g),y=[],p=[],_=[];_[0]=0;for(var F=g;F<m&&y.length<E;F++)for(var C=this._ptr[F],B=this._ptr[F+1],b=C;b<B;b++){var N=this._index[b];if(N===F-g+w){y.push(this._values[b]),p[y.length-1]=N-w;break}}return _.push(y.length),new i({values:y,index:p,ptr:_,size:[E,1]})},i.fromJSON=function(l){return new i(l)},i.diagonal=function(l,g,w,A,m){if(!Be(l))throw new TypeError("Array expected, size parameter");if(l.length!==2)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(I){if(qe(I)&&(I=I.toNumber()),!De(I)||!Pe(I)||I<1)throw new Error("Size values must be positive integers");return I}),w){if(qe(w)&&(w=w.toNumber()),!De(w)||!Pe(w))throw new TypeError("The parameter k must be an integer number")}else w=0;var E=t,y=0;cr(m)&&(E=r.find(t,[m,m])||t,y=r.convert(0,m));var p=w>0?w:0,_=w<0?-w:0,F=l[0],C=l[1],B=Math.min(F-_,C-p),b;if(Be(g)){if(g.length!==B)throw new Error("Invalid value array length");b=function(V){return g[V]}}else if(Ne(g)){var N=g.size();if(N.length!==1||N[0]!==B)throw new Error("Invalid matrix length");b=function(V){return g.get([V])}}else b=function(){return g};for(var R=[],O=[],P=[],x=0;x<C;x++){P.push(R.length);var G=x-p;if(G>=0&&G<B){var Z=b(G);E(Z,y)||(O.push(G+_),R.push(Z))}}return P.push(R.length),new i({values:R,index:O,ptr:P,size:[F,C]})},i.prototype.swapRows=function(l,g){if(!De(l)||!Pe(l)||!De(g)||!Pe(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return _e(l,this._size[0]),_e(g,this._size[0]),i._swapRows(l,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(l,g,w,A,m){for(var E=A[l],y=A[l+1],p=E;p<y;p++)m(w[p],g[p])},i._swapRows=function(l,g,w,A,m,E){for(var y=0;y<w;y++){var p=E[y],_=E[y+1],F=c(l,p,_,m),C=c(g,p,_,m);if(F<_&&C<_&&m[F]===l&&m[C]===g){if(A){var B=A[F];A[F]=A[C],A[C]=B}continue}if(F<_&&m[F]===l&&(C>=_||m[C]!==g)){var b=A?A[F]:void 0;m.splice(C,0,g),A&&A.splice(C,0,b),m.splice(C<=F?F+1:F,1),A&&A.splice(C<=F?F+1:F,1);continue}if(C<_&&m[C]===g&&(F>=_||m[F]!==l)){var N=A?A[C]:void 0;m.splice(F,0,l),A&&A.splice(F,0,N),m.splice(F<=C?C+1:C,1),A&&A.splice(F<=C?C+1:C,1)}}},i},{isClass:!0}),ps="number",ds=["typed"];function gs(e){var r=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(r){var t={"0b":2,"0o":8,"0x":16}[r[1]],n=r[2],i=r[3];return{input:e,radix:t,integerPart:n,fractionalPart:i}}else return null}function ms(e){for(var r=parseInt(e.integerPart,e.radix),t=0,n=0;n<e.fractionalPart.length;n++){var i=parseInt(e.fractionalPart[n],e.radix);t+=i/Math.pow(e.radix,n+1)}var u=r+t;if(isNaN(u))throw new SyntaxError('String "'+e.input+'" is not a valid number');return u}var ws=W(ps,ds,e=>{var{typed:r}=e,t=r("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var u=gs(i);if(u)return ms(u);var a=0,s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(a=Number(s[2]),i=s[1]);var f=Number(i);if(isNaN(f))throw new SyntaxError('String "'+i+'" is not a valid number');if(s){if(f>2**a-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));f>=2**(a-1)&&(f=f-2**a)}return f},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:r.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),null:function(i){return 0},"Unit, string | Unit":function(i,u){return i.toNumber(u)},"Array | Matrix":r.referToSelf(n=>i=>zr(i,n))});return t.fromJSON=function(n){return parseFloat(n.value)},t}),ys="bignumber",As=["typed","BigNumber"],Es=W(ys,As,e=>{var{typed:r,BigNumber:t}=e;return r("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var a=u[2],s=t(u[1]),f=new t(2).pow(Number(a));if(s.gt(f.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var c=new t(2).pow(Number(a)-1);return s.gte(c)?s.sub(f):s}return new t(i)},BigNumber:function(i){return i},bigint:function(i){return new t(i.toString())},Unit:r.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),Fraction:function(i){return new t(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new t(0)},"Array | Matrix":r.referToSelf(n=>i=>zr(i,n))})}),Fs="fraction",Cs=["typed","Fraction"],_s=W(Fs,Cs,e=>{var{typed:r,Fraction:t}=e;return r("fraction",{number:function(i){if(!Number.isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,u){return new t(i,u)},"bigint, bigint":function(i,u){return new t(i,u)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},bigint:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:r.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),Object:function(i){return new t(i)},"Array | Matrix":r.referToSelf(n=>i=>zr(i,n))})}),Tn="matrix",Ss=["typed","Matrix","DenseMatrix","SparseMatrix"],Bs=W(Tn,Ss,e=>{var{typed:r,Matrix:t,DenseMatrix:n,SparseMatrix:i}=e;return r(Tn,{"":function(){return u([])},string:function(s){return u([],s)},"string, string":function(s,f){return u([],s,f)},Array:function(s){return u(s)},Matrix:function(s){return u(s,s.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(a,s,f){if(s==="dense"||s==="default"||s===void 0)return new n(a,f);if(s==="sparse")return new i(a,f);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),zn="unaryMinus",bs=["typed"],Ms=W(zn,bs,e=>{var{typed:r}=e;return r(zn,{number:Ui,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:r.referToSelf(t=>n=>{var i=n.clone();return i.value=r.find(t,i.valueType())(n.value),i}),"Array | Matrix":r.referToSelf(t=>n=>zr(n,t,!0))})}),In="abs",xs=["typed"],Ns=W(In,xs,e=>{var{typed:r}=e;return r(In,{number:qi,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":r.referToSelf(t=>n=>zr(n,t,!0))})}),On="addScalar",Ts=["typed"],zs=W(On,Ts,e=>{var{typed:r}=e;return r(On,{"number, number":Ri,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":r.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var u=n.clone();return u.value=r.find(t,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),Pn="subtractScalar",Is=["typed"],Os=W(Pn,Is,e=>{var{typed:r}=e;return r(Pn,{"number, number":$i,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":r.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var u=n.clone();return u.value=r.find(t,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),Ps="matAlgo11xS0s",qs=["typed","equalScalar"],Rs=W(Ps,qs,e=>{var{typed:r,equalScalar:t}=e;return function(i,u,a,s){var f=i._values,c=i._index,h=i._ptr,o=i._size,v=i._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=o[0],d=o[1],l,g=t,w=0,A=a;typeof v=="string"&&(l=v,g=r.find(t,[l,l]),w=r.convert(0,l),u=r.convert(u,l),A=r.find(a,[l,l]));for(var m=[],E=[],y=[],p=0;p<d;p++){y[p]=E.length;for(var _=h[p],F=h[p+1],C=_;C<F;C++){var B=c[C],b=s?A(u,f[C]):A(f[C],u);g(b,w)||(E.push(B),m.push(b))}}return y[d]=E.length,i.createSparseMatrix({values:m,index:E,ptr:y,size:[D,d],datatype:l})}}),$s="matAlgo12xSfs",Ls=["typed","DenseMatrix"],et=W($s,Ls,e=>{var{typed:r,DenseMatrix:t}=e;return function(i,u,a,s){var f=i._values,c=i._index,h=i._ptr,o=i._size,v=i._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=o[0],d=o[1],l,g=a;typeof v=="string"&&(l=v,u=r.convert(u,l),g=r.find(a,[l,l]));for(var w=[],A=[],m=[],E=0;E<d;E++){for(var y=E+1,p=h[E],_=h[E+1],F=p;F<_;F++){var C=c[F];A[C]=f[F],m[C]=y}for(var B=0;B<D;B++)E===0&&(w[B]=[]),m[B]===y?w[B][E]=s?g(u,A[B]):g(A[B],u):w[B][E]=s?g(u,0):g(0,u)}return new t({data:w,size:[D,d],datatype:l})}}),Us="matAlgo14xDs",Hs=["typed"],Hi=W(Us,Hs,e=>{var{typed:r}=e;return function(i,u,a,s){var f=i._data,c=i._size,h=i._datatype,o,v=a;typeof h=="string"&&(o=h,u=r.convert(u,o),v=r.find(a,[o,o]));var D=c.length>0?t(v,0,c,c[0],f,u,s):[];return i.createDenseMatrix({data:D,size:Se(c),datatype:o})};function t(n,i,u,a,s,f,c){var h=[];if(i===u.length-1)for(var o=0;o<a;o++)h[o]=c?n(f,s[o]):n(s[o],f);else for(var v=0;v<a;v++)h[v]=t(n,i+1,u,u[i+1],s[v],f,c);return h}}),Zs="matAlgo03xDSf",Vs=["typed"],rt=W(Zs,Vs,e=>{var{typed:r}=e;return function(n,i,u,a){var s=n._data,f=n._size,c=n._datatype||n.getDataType(),h=i._values,o=i._index,v=i._ptr,D=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(f.length!==D.length)throw new pe(f.length,D.length);if(f[0]!==D[0]||f[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+D+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var l=f[0],g=f[1],w,A=0,m=u;typeof c=="string"&&c===d&&c!=="mixed"&&(w=c,A=r.convert(0,w),m=r.find(u,[w,w]));for(var E=[],y=0;y<l;y++)E[y]=[];for(var p=[],_=[],F=0;F<g;F++){for(var C=F+1,B=v[F],b=v[F+1],N=B;N<b;N++){var R=o[N];p[R]=a?m(h[N],s[R][F]):m(s[R][F],h[N]),_[R]=C}for(var O=0;O<l;O++)_[O]===C?E[O][F]=p[O]:E[O][F]=a?m(A,s[O][F]):m(s[O][F],A)}return n.createDenseMatrix({data:E,size:[l,g],datatype:c===n._datatype&&d===i._datatype?w:void 0})}}),Ys="matAlgo05xSfSf",Js=["typed","equalScalar"],Gs=W(Ys,Js,e=>{var{typed:r,equalScalar:t}=e;return function(i,u,a){var s=i._values,f=i._index,c=i._ptr,h=i._size,o=i._datatype||i._data===void 0?i._datatype:i.getDataType(),v=u._values,D=u._index,d=u._ptr,l=u._size,g=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(h.length!==l.length)throw new pe(h.length,l.length);if(h[0]!==l[0]||h[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+l+")");var w=h[0],A=h[1],m,E=t,y=0,p=a;typeof o=="string"&&o===g&&o!=="mixed"&&(m=o,E=r.find(t,[m,m]),y=r.convert(0,m),p=r.find(a,[m,m]));var _=s&&v?[]:void 0,F=[],C=[],B=_?[]:void 0,b=_?[]:void 0,N=[],R=[],O,P,x,G;for(P=0;P<A;P++){C[P]=F.length;var Z=P+1;for(x=c[P],G=c[P+1];x<G;x++)O=f[x],F.push(O),N[O]=Z,B&&(B[O]=s[x]);for(x=d[P],G=d[P+1];x<G;x++)O=D[x],N[O]!==Z&&F.push(O),R[O]=Z,b&&(b[O]=v[x]);if(_)for(x=C[P];x<F.length;){O=F[x];var I=N[O],V=R[O];if(I===Z||V===Z){var Q=I===Z?B[O]:y,ae=V===Z?b[O]:y,ne=p(Q,ae);E(ne,y)?F.splice(x,1):(_.push(ne),x++)}}}return C[A]=F.length,i.createSparseMatrix({values:_,index:F,ptr:C,size:[w,A],datatype:o===i._datatype&&g===u._datatype?m:void 0})}}),Xs="matAlgo13xDD",Ks=["typed"],Qs=W(Xs,Ks,e=>{var{typed:r}=e;return function(i,u,a){var s=i._data,f=i._size,c=i._datatype,h=u._data,o=u._size,v=u._datatype,D=[];if(f.length!==o.length)throw new pe(f.length,o.length);for(var d=0;d<f.length;d++){if(f[d]!==o[d])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+o+")");D[d]=f[d]}var l,g=a;typeof c=="string"&&c===v&&(l=c,g=r.find(a,[l,l]));var w=D.length>0?t(g,0,D,D[0],s,h):[];return i.createDenseMatrix({data:w,size:D,datatype:l})};function t(n,i,u,a,s,f){var c=[];if(i===u.length-1)for(var h=0;h<a;h++)c[h]=n(s[h],f[h]);else for(var o=0;o<a;o++)c[o]=t(n,i+1,u,u[i+1],s[o],f[o]);return c}});function Te(e,r){if(Cr(e.size(),r.size()))return[e,r];var t=zi(e.size(),r.size());return[e,r].map(n=>Ws(n,t))}function Ws(e,r){return Cr(e.size(),r)?e:e.create(Qt(e.valueOf(),r),e.datatype())}var ks="matrixAlgorithmSuite",js=["typed","matrix"],Vr=W(ks,js,e=>{var{typed:r,matrix:t}=e,n=Qs({typed:r}),i=Hi({typed:r});return function(a){var s=a.elop,f=a.SD||a.DS,c;s?(c={"DenseMatrix, DenseMatrix":(D,d)=>n(...Te(D,d),s),"Array, Array":(D,d)=>n(...Te(t(D),t(d)),s).valueOf(),"Array, DenseMatrix":(D,d)=>n(...Te(t(D),d),s),"DenseMatrix, Array":(D,d)=>n(...Te(D,t(d)),s)},a.SS&&(c["SparseMatrix, SparseMatrix"]=(D,d)=>a.SS(...Te(D,d),s,!1)),a.DS&&(c["DenseMatrix, SparseMatrix"]=(D,d)=>a.DS(...Te(D,d),s,!1),c["Array, SparseMatrix"]=(D,d)=>a.DS(...Te(t(D),d),s,!1)),f&&(c["SparseMatrix, DenseMatrix"]=(D,d)=>f(...Te(d,D),s,!0),c["SparseMatrix, Array"]=(D,d)=>f(...Te(t(d),D),s,!0))):(c={"DenseMatrix, DenseMatrix":r.referToSelf(D=>(d,l)=>n(...Te(d,l),D)),"Array, Array":r.referToSelf(D=>(d,l)=>n(...Te(t(d),t(l)),D).valueOf()),"Array, DenseMatrix":r.referToSelf(D=>(d,l)=>n(...Te(t(d),l),D)),"DenseMatrix, Array":r.referToSelf(D=>(d,l)=>n(...Te(d,t(l)),D))},a.SS&&(c["SparseMatrix, SparseMatrix"]=r.referToSelf(D=>(d,l)=>a.SS(...Te(d,l),D,!1))),a.DS&&(c["DenseMatrix, SparseMatrix"]=r.referToSelf(D=>(d,l)=>a.DS(...Te(d,l),D,!1)),c["Array, SparseMatrix"]=r.referToSelf(D=>(d,l)=>a.DS(...Te(t(d),l),D,!1))),f&&(c["SparseMatrix, DenseMatrix"]=r.referToSelf(D=>(d,l)=>f(...Te(l,d),D,!0)),c["SparseMatrix, Array"]=r.referToSelf(D=>(d,l)=>f(...Te(t(l),d),D,!0))));var h=a.scalar||"any",o=a.Ds||a.Ss;o&&(s?(c["DenseMatrix,"+h]=(D,d)=>i(D,d,s,!1),c[h+", DenseMatrix"]=(D,d)=>i(d,D,s,!0),c["Array,"+h]=(D,d)=>i(t(D),d,s,!1).valueOf(),c[h+", Array"]=(D,d)=>i(t(d),D,s,!0).valueOf()):(c["DenseMatrix,"+h]=r.referToSelf(D=>(d,l)=>i(d,l,D,!1)),c[h+", DenseMatrix"]=r.referToSelf(D=>(d,l)=>i(l,d,D,!0)),c["Array,"+h]=r.referToSelf(D=>(d,l)=>i(t(d),l,D,!1).valueOf()),c[h+", Array"]=r.referToSelf(D=>(d,l)=>i(t(l),d,D,!0).valueOf())));var v=a.sS!==void 0?a.sS:a.Ss;return s?(a.Ss&&(c["SparseMatrix,"+h]=(D,d)=>a.Ss(D,d,s,!1)),v&&(c[h+", SparseMatrix"]=(D,d)=>v(d,D,s,!0))):(a.Ss&&(c["SparseMatrix,"+h]=r.referToSelf(D=>(d,l)=>a.Ss(d,l,D,!1))),v&&(c[h+", SparseMatrix"]=r.referToSelf(D=>(d,l)=>v(l,d,D,!0)))),s&&s.signatures&&ma(c,s.signatures),c}}),ef="matAlgo01xDSid",rf=["typed"],Zi=W(ef,rf,e=>{var{typed:r}=e;return function(n,i,u,a){var s=n._data,f=n._size,c=n._datatype||n.getDataType(),h=i._values,o=i._index,v=i._ptr,D=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(f.length!==D.length)throw new pe(f.length,D.length);if(f[0]!==D[0]||f[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+D+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var l=f[0],g=f[1],w=typeof c=="string"&&c!=="mixed"&&c===d?c:void 0,A=w?r.find(u,[w,w]):u,m,E,y=[];for(m=0;m<l;m++)y[m]=[];var p=[],_=[];for(E=0;E<g;E++){for(var F=E+1,C=v[E],B=v[E+1],b=C;b<B;b++)m=o[b],p[m]=a?A(h[b],s[m][E]):A(s[m][E],h[b]),_[m]=F;for(m=0;m<l;m++)_[m]===F?y[m][E]=p[m]:y[m][E]=s[m][E]}return n.createDenseMatrix({data:y,size:[l,g],datatype:c===n._datatype&&d===i._datatype?w:void 0})}}),tf="matAlgo04xSidSid",nf=["typed","equalScalar"],uf=W(tf,nf,e=>{var{typed:r,equalScalar:t}=e;return function(i,u,a){var s=i._values,f=i._index,c=i._ptr,h=i._size,o=i._datatype||i._data===void 0?i._datatype:i.getDataType(),v=u._values,D=u._index,d=u._ptr,l=u._size,g=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(h.length!==l.length)throw new pe(h.length,l.length);if(h[0]!==l[0]||h[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+l+")");var w=h[0],A=h[1],m,E=t,y=0,p=a;typeof o=="string"&&o===g&&o!=="mixed"&&(m=o,E=r.find(t,[m,m]),y=r.convert(0,m),p=r.find(a,[m,m]));var _=s&&v?[]:void 0,F=[],C=[],B=s&&v?[]:void 0,b=s&&v?[]:void 0,N=[],R=[],O,P,x,G,Z;for(P=0;P<A;P++){C[P]=F.length;var I=P+1;for(G=c[P],Z=c[P+1],x=G;x<Z;x++)O=f[x],F.push(O),N[O]=I,B&&(B[O]=s[x]);for(G=d[P],Z=d[P+1],x=G;x<Z;x++)if(O=D[x],N[O]===I){if(B){var V=p(B[O],v[x]);E(V,y)?N[O]=null:B[O]=V}}else F.push(O),R[O]=I,b&&(b[O]=v[x]);if(B&&b)for(x=C[P];x<F.length;)O=F[x],N[O]===I?(_[x]=B[O],x++):R[O]===I?(_[x]=b[O],x++):F.splice(x,1)}return C[A]=F.length,i.createSparseMatrix({values:_,index:F,ptr:C,size:[w,A],datatype:o===i._datatype&&g===u._datatype?m:void 0})}}),af="matAlgo10xSids",of=["typed","DenseMatrix"],Vi=W(af,of,e=>{var{typed:r,DenseMatrix:t}=e;return function(i,u,a,s){var f=i._values,c=i._index,h=i._ptr,o=i._size,v=i._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var D=o[0],d=o[1],l,g=a;typeof v=="string"&&(l=v,u=r.convert(u,l),g=r.find(a,[l,l]));for(var w=[],A=[],m=[],E=0;E<d;E++){for(var y=E+1,p=h[E],_=h[E+1],F=p;F<_;F++){var C=c[F];A[C]=f[F],m[C]=y}for(var B=0;B<D;B++)E===0&&(w[B]=[]),m[B]===y?w[B][E]=s?g(u,A[B]):g(A[B],u):w[B][E]=u}return new t({data:w,size:[D,d],datatype:l})}}),sf="multiplyScalar",ff=["typed"],cf=W(sf,ff,e=>{var{typed:r}=e;return r("multiplyScalar",{"number, number":Li,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,n)=>n.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,n)=>t.multiply(n)})}),qn="multiply",lf=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],hf=W(qn,lf,e=>{var{typed:r,matrix:t,addScalar:n,multiplyScalar:i,equalScalar:u,dot:a}=e,s=Rs({typed:r,equalScalar:u}),f=Hi({typed:r});function c(y,p){switch(y.length){case 1:switch(p.length){case 1:if(y[0]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(y[0]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+y[0]+") must match Matrix rows ("+p[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+p.length+" dimensions)")}break;case 2:switch(p.length){case 1:if(y[1]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+y[1]+") must match Vector length ("+p[0]+")");break;case 2:if(y[1]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+y[1]+") must match Matrix B rows ("+p[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+p.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+y.length+" dimensions)")}}function h(y,p,_){if(_===0)throw new Error("Cannot multiply two empty vectors");return a(y,p)}function o(y,p){if(p.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return v(y,p)}function v(y,p){var _=y._data,F=y._size,C=y._datatype||y.getDataType(),B=p._data,b=p._size,N=p._datatype||p.getDataType(),R=F[0],O=b[1],P,x=n,G=i;C&&N&&C===N&&typeof C=="string"&&C!=="mixed"&&(P=C,x=r.find(n,[P,P]),G=r.find(i,[P,P]));for(var Z=[],I=0;I<O;I++){for(var V=G(_[0],B[0][I]),Q=1;Q<R;Q++)V=x(V,G(_[Q],B[Q][I]));Z[I]=V}return y.createDenseMatrix({data:Z,size:[O],datatype:C===y._datatype&&N===p._datatype?P:void 0})}var D=r("_multiplyMatrixVector",{"DenseMatrix, any":l,"SparseMatrix, any":A}),d=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":w,"SparseMatrix, DenseMatrix":m,"SparseMatrix, SparseMatrix":E});function l(y,p){var _=y._data,F=y._size,C=y._datatype||y.getDataType(),B=p._data,b=p._datatype||p.getDataType(),N=F[0],R=F[1],O,P=n,x=i;C&&b&&C===b&&typeof C=="string"&&C!=="mixed"&&(O=C,P=r.find(n,[O,O]),x=r.find(i,[O,O]));for(var G=[],Z=0;Z<N;Z++){for(var I=_[Z],V=x(I[0],B[0]),Q=1;Q<R;Q++)V=P(V,x(I[Q],B[Q]));G[Z]=V}return y.createDenseMatrix({data:G,size:[N],datatype:C===y._datatype&&b===p._datatype?O:void 0})}function g(y,p){var _=y._data,F=y._size,C=y._datatype||y.getDataType(),B=p._data,b=p._size,N=p._datatype||p.getDataType(),R=F[0],O=F[1],P=b[1],x,G=n,Z=i;C&&N&&C===N&&typeof C=="string"&&C!=="mixed"&&C!=="mixed"&&(x=C,G=r.find(n,[x,x]),Z=r.find(i,[x,x]));for(var I=[],V=0;V<R;V++){var Q=_[V];I[V]=[];for(var ae=0;ae<P;ae++){for(var ne=Z(Q[0],B[0][ae]),j=1;j<O;j++)ne=G(ne,Z(Q[j],B[j][ae]));I[V][ae]=ne}}return y.createDenseMatrix({data:I,size:[R,P],datatype:C===y._datatype&&N===p._datatype?x:void 0})}function w(y,p){var _=y._data,F=y._size,C=y._datatype||y.getDataType(),B=p._values,b=p._index,N=p._ptr,R=p._size,O=p._datatype||p._data===void 0?p._datatype:p.getDataType();if(!B)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var P=F[0],x=R[1],G,Z=n,I=i,V=u,Q=0;C&&O&&C===O&&typeof C=="string"&&C!=="mixed"&&(G=C,Z=r.find(n,[G,G]),I=r.find(i,[G,G]),V=r.find(u,[G,G]),Q=r.convert(0,G));for(var ae=[],ne=[],j=[],de=p.createSparseMatrix({values:ae,index:ne,ptr:j,size:[P,x],datatype:C===y._datatype&&O===p._datatype?G:void 0}),fe=0;fe<x;fe++){j[fe]=ne.length;var ue=N[fe],le=N[fe+1];if(le>ue)for(var oe=0,re=0;re<P;re++){for(var Ce=re+1,ye=void 0,se=ue;se<le;se++){var ve=b[se];oe!==Ce?(ye=I(_[re][ve],B[se]),oe=Ce):ye=Z(ye,I(_[re][ve],B[se]))}oe===Ce&&!V(ye,Q)&&(ne.push(re),ae.push(ye))}}return j[x]=ne.length,de}function A(y,p){var _=y._values,F=y._index,C=y._ptr,B=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var b=p._data,N=p._datatype||p.getDataType(),R=y._size[0],O=p._size[0],P=[],x=[],G=[],Z,I=n,V=i,Q=u,ae=0;B&&N&&B===N&&typeof B=="string"&&B!=="mixed"&&(Z=B,I=r.find(n,[Z,Z]),V=r.find(i,[Z,Z]),Q=r.find(u,[Z,Z]),ae=r.convert(0,Z));var ne=[],j=[];G[0]=0;for(var de=0;de<O;de++){var fe=b[de];if(!Q(fe,ae))for(var ue=C[de],le=C[de+1],oe=ue;oe<le;oe++){var re=F[oe];j[re]?ne[re]=I(ne[re],V(fe,_[oe])):(j[re]=!0,x.push(re),ne[re]=V(fe,_[oe]))}}for(var Ce=x.length,ye=0;ye<Ce;ye++){var se=x[ye];P[ye]=ne[se]}return G[1]=x.length,y.createSparseMatrix({values:P,index:x,ptr:G,size:[R,1],datatype:B===y._datatype&&N===p._datatype?Z:void 0})}function m(y,p){var _=y._values,F=y._index,C=y._ptr,B=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var b=p._data,N=p._datatype||p.getDataType(),R=y._size[0],O=p._size[0],P=p._size[1],x,G=n,Z=i,I=u,V=0;B&&N&&B===N&&typeof B=="string"&&B!=="mixed"&&(x=B,G=r.find(n,[x,x]),Z=r.find(i,[x,x]),I=r.find(u,[x,x]),V=r.convert(0,x));for(var Q=[],ae=[],ne=[],j=y.createSparseMatrix({values:Q,index:ae,ptr:ne,size:[R,P],datatype:B===y._datatype&&N===p._datatype?x:void 0}),de=[],fe=[],ue=0;ue<P;ue++){ne[ue]=ae.length;for(var le=ue+1,oe=0;oe<O;oe++){var re=b[oe][ue];if(!I(re,V))for(var Ce=C[oe],ye=C[oe+1],se=Ce;se<ye;se++){var ve=F[se];fe[ve]!==le?(fe[ve]=le,ae.push(ve),de[ve]=Z(re,_[se])):de[ve]=G(de[ve],Z(re,_[se]))}}for(var Me=ne[ue],Ye=ae.length,$e=Me;$e<Ye;$e++){var he=ae[$e];Q[$e]=de[he]}}return ne[P]=ae.length,j}function E(y,p){var _=y._values,F=y._index,C=y._ptr,B=y._datatype||y._data===void 0?y._datatype:y.getDataType(),b=p._values,N=p._index,R=p._ptr,O=p._datatype||p._data===void 0?p._datatype:p.getDataType(),P=y._size[0],x=p._size[1],G=_&&b,Z,I=n,V=i;B&&O&&B===O&&typeof B=="string"&&B!=="mixed"&&(Z=B,I=r.find(n,[Z,Z]),V=r.find(i,[Z,Z]));for(var Q=G?[]:void 0,ae=[],ne=[],j=y.createSparseMatrix({values:Q,index:ae,ptr:ne,size:[P,x],datatype:B===y._datatype&&O===p._datatype?Z:void 0}),de=G?[]:void 0,fe=[],ue,le,oe,re,Ce,ye,se,ve,Me=0;Me<x;Me++){ne[Me]=ae.length;var Ye=Me+1;for(Ce=R[Me],ye=R[Me+1],re=Ce;re<ye;re++)if(ve=N[re],G)for(le=C[ve],oe=C[ve+1],ue=le;ue<oe;ue++)se=F[ue],fe[se]!==Ye?(fe[se]=Ye,ae.push(se),de[se]=V(b[re],_[ue])):de[se]=I(de[se],V(b[re],_[ue]));else for(le=C[ve],oe=C[ve+1],ue=le;ue<oe;ue++)se=F[ue],fe[se]!==Ye&&(fe[se]=Ye,ae.push(se));if(G)for(var $e=ne[Me],he=ae.length,Le=$e;Le<he;Le++){var ir=ae[Le];Q[Le]=de[ir]}}return ne[x]=ae.length,j}return r(qn,i,{"Array, Array":r.referTo("Matrix, Matrix",y=>(p,_)=>{c(Ve(p),Ve(_));var F=y(t(p),t(_));return Ne(F)?F.valueOf():F}),"Matrix, Matrix":function(p,_){var F=p.size(),C=_.size();return c(F,C),F.length===1?C.length===1?h(p,_,F[0]):o(p,_):C.length===1?D(p,_):d(p,_)},"Matrix, Array":r.referTo("Matrix,Matrix",y=>(p,_)=>y(p,t(_))),"Array, Matrix":r.referToSelf(y=>(p,_)=>y(t(p,_.storage()),_)),"SparseMatrix, any":function(p,_){return s(p,_,i,!1)},"DenseMatrix, any":function(p,_){return f(p,_,i,!1)},"any, SparseMatrix":function(p,_){return s(_,p,i,!0)},"any, DenseMatrix":function(p,_){return f(_,p,i,!0)},"Array, any":function(p,_){return f(t(p),_,i,!1).valueOf()},"any, Array":function(p,_){return f(t(_),p,i,!0).valueOf()},"any, any":i,"any, any, ...any":r.referToSelf(y=>(p,_,F)=>{for(var C=y(p,_),B=0;B<F.length;B++)C=y(C,F[B]);return C})})}),Rn="subtract",vf=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Df=W(Rn,vf,e=>{var{typed:r,matrix:t,equalScalar:n,subtractScalar:i,unaryMinus:u,DenseMatrix:a,concat:s}=e,f=Zi({typed:r}),c=rt({typed:r}),h=Gs({typed:r,equalScalar:n}),o=Vi({typed:r,DenseMatrix:a}),v=et({typed:r,DenseMatrix:a}),D=Vr({typed:r,matrix:t,concat:s});return r(Rn,{"any, any":i},D({elop:i,SS:h,DS:f,SD:c,Ss:v,sS:o}))}),pf="matAlgo07xSSf",df=["typed","SparseMatrix"],Ot=W(pf,df,e=>{var{typed:r,SparseMatrix:t}=e;return function(u,a,s){var f=u._size,c=u._datatype||u._data===void 0?u._datatype:u.getDataType(),h=a._size,o=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(f.length!==h.length)throw new pe(f.length,h.length);if(f[0]!==h[0]||f[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+h+")");var v=f[0],D=f[1],d,l=0,g=s;typeof c=="string"&&c===o&&c!=="mixed"&&(d=c,l=r.convert(0,d),g=r.find(s,[d,d]));for(var w=[],A=[],m=new Array(D+1).fill(0),E=[],y=[],p=[],_=[],F=0;F<D;F++){var C=F+1,B=0;n(u,F,p,E,C),n(a,F,_,y,C);for(var b=0;b<v;b++){var N=p[b]===C?E[b]:l,R=_[b]===C?y[b]:l,O=g(N,R);O!==0&&O!==!1&&(A.push(b),w.push(O),B++)}m[F+1]=m[F]+B}return new t({values:w,index:A,ptr:m,size:[v,D],datatype:c===u._datatype&&o===a._datatype?d:void 0})};function n(i,u,a,s,f){for(var c=i._values,h=i._index,o=i._ptr,v=o[u],D=o[u+1];v<D;v++){var d=h[v];a[d]=f,s[d]=c[v]}}}),$n="conj",gf=["typed"],mf=W($n,gf,e=>{var{typed:r}=e;return r($n,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),Unit:r.referToSelf(t=>n=>new n.constructor(t(n.toNumeric()),n.formatUnits())),"Array | Matrix":r.referToSelf(t=>n=>zr(n,t))})}),Ln="concat",wf=["typed","matrix","isInteger"],yf=W(Ln,wf,e=>{var{typed:r,matrix:t,isInteger:n}=e;return r(Ln,{"...Array | Matrix | number | BigNumber":function(u){var a,s=u.length,f=-1,c,h=!1,o=[];for(a=0;a<s;a++){var v=u[a];if(Ne(v)&&(h=!0),De(v)||qe(v)){if(a!==s-1)throw new Error("Dimension must be specified as last argument");if(c=f,f=v.valueOf(),!n(f))throw new TypeError("Integer number expected for dimension");if(f<0||a>0&&f>c)throw new Tr(f,c+1)}else{var D=Se(v).valueOf(),d=Ve(D);if(o[a]=D,c=f,f=d.length-1,a>0&&f!==c)throw new pe(c+1,f+1)}}if(o.length===0)throw new SyntaxError("At least one matrix expected");for(var l=o.shift();o.length;)l=Ti(l,o.shift(),f);return h?t(l):l},"...string":function(u){return u.join("")}})});function Af(){throw new Error('No "bignumber" implementation available')}function Ef(){throw new Error('No "fraction" implementation available')}var Un="size",Ff=["typed"],Cf=W(Un,Ff,e=>{var{typed:r}=e;return r(Un,{Matrix:t=>t.size(),Array:Ve,string:t=>[t.length],"number | Complex | BigNumber | Unit | boolean | null":t=>[]})}),Hn="transpose",_f=["typed","matrix"],Sf=W(Hn,_f,e=>{var{typed:r,matrix:t}=e;return r(Hn,{Array:a=>n(t(a)).valueOf(),Matrix:n,any:Se});function n(a){var s=a.size(),f;switch(s.length){case 1:f=a.clone();break;case 2:{var c=s[0],h=s[1];if(h===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Oe(s)+")");switch(a.storage()){case"dense":f=i(a,c,h);break;case"sparse":f=u(a,c,h);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Oe(s)+")")}return f}function i(a,s,f){for(var c=a._data,h=[],o,v=0;v<f;v++){o=h[v]=[];for(var D=0;D<s;D++)o[D]=Se(c[D][v])}return a.createDenseMatrix({data:h,size:[f,s],datatype:a._datatype})}function u(a,s,f){for(var c=a._values,h=a._index,o=a._ptr,v=c?[]:void 0,D=[],d=[],l=[],g=0;g<s;g++)l[g]=0;var w,A,m;for(w=0,A=h.length;w<A;w++)l[h[w]]++;for(var E=0,y=0;y<s;y++)d.push(E),E+=l[y],l[y]=d[y];for(d.push(E),m=0;m<f;m++)for(var p=o[m],_=o[m+1],F=p;F<_;F++){var C=l[h[F]]++;D[C]=m,c&&(v[C]=Se(c[F]))}return a.createSparseMatrix({values:v,index:D,ptr:d,size:[f,s],datatype:a._datatype})}}),Bf="numeric",bf=["number","?bignumber","?fraction"],Mf=W(Bf,bf,e=>{var{number:r,bignumber:t,fraction:n}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:a=>r(a),BigNumber:t?a=>t(a):Af,bigint:a=>BigInt(a),Fraction:n?a=>n(a):Ef};return function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var h=Fr(s);if(!(h in i))throw new TypeError("Cannot convert "+s+' of type "'+h+'"; valid input types are '+Object.keys(i).join(", "));if(!(f in u))throw new TypeError("Cannot convert "+s+' to type "'+f+'"; valid output types are '+Object.keys(u).join(", "));return f===h?s:u[f](s)}}),Zn="divideScalar",xf=["typed","numeric"],Nf=W(Zn,xf,e=>{var{typed:r,numeric:t}=e;return r(Zn,{"number, number":function(i,u){return i/u},"Complex, Complex":function(i,u){return i.div(u)},"BigNumber, BigNumber":function(i,u){return i.div(u)},"bigint, bigint":function(i,u){return i/u},"Fraction, Fraction":function(i,u){return i.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});function sn(e){var{DenseMatrix:r}=e;return function(n,i,u){var a=n.size();if(a.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Oe(a)+")");var s=a[0],f=a[1];if(s!==f)throw new RangeError("Matrix must be square (size: "+Oe(a)+")");var c=[];if(Ne(i)){var h=i.size(),o=i._data;if(h.length===1){if(h[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var v=0;v<s;v++)c[v]=[o[v]];return new r({data:c,size:[s,1],datatype:i._datatype})}if(h.length===2){if(h[0]!==s||h[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(si(i)){if(u){c=[];for(var D=0;D<s;D++)c[D]=[o[D][0]];return new r({data:c,size:[s,1],datatype:i._datatype})}return i}if(fi(i)){for(var d=0;d<s;d++)c[d]=[0];for(var l=i._values,g=i._index,w=i._ptr,A=w[1],m=w[0];m<A;m++){var E=g[m];c[E][0]=l[m]}return new r({data:c,size:[s,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Be(i)){var y=Ve(i);if(y.length===1){if(y[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<s;p++)c[p]=[i[p]];return new r({data:c,size:[s,1]})}if(y.length===2){if(y[0]!==s||y[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _=0;_<s;_++)c[_]=[i[_][0]];return new r({data:c,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Vn="lsolve",Tf=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],zf=W(Vn,Tf,e=>{var{typed:r,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:u,equalScalar:a,DenseMatrix:s}=e,f=sn({DenseMatrix:s});return r(Vn,{"SparseMatrix, Array | Matrix":function(v,D){return h(v,D)},"DenseMatrix, Array | Matrix":function(v,D){return c(v,D)},"Array, Array | Matrix":function(v,D){var d=t(v),l=c(d,D);return l.valueOf()}});function c(o,v){v=f(o,v,!0);for(var D=v._data,d=o._size[0],l=o._size[1],g=[],w=o._data,A=0;A<l;A++){var m=D[A][0]||0,E=void 0;if(a(m,0))E=0;else{var y=w[A][A];if(a(y,0))throw new Error("Linear system cannot be solved since matrix is singular");E=n(m,y);for(var p=A+1;p<d;p++)D[p]=[u(D[p][0]||0,i(E,w[p][A]))]}g[A]=[E]}return new s({data:g,size:[d,1]})}function h(o,v){v=f(o,v,!0);for(var D=v._data,d=o._size[0],l=o._size[1],g=o._values,w=o._index,A=o._ptr,m=[],E=0;E<l;E++){var y=D[E][0]||0;if(a(y,0))m[E]=[0];else{for(var p=0,_=[],F=[],C=A[E],B=A[E+1],b=C;b<B;b++){var N=w[b];N===E?p=g[b]:N>E&&(_.push(g[b]),F.push(N))}if(a(p,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var R=n(y,p),O=0,P=F.length;O<P;O++){var x=F[O];D[x]=[u(D[x][0]||0,i(R,_[O]))]}m[E]=[R]}}return new s({data:m,size:[d,1]})}}),Yn="usolve",If=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Of=W(Yn,If,e=>{var{typed:r,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:u,equalScalar:a,DenseMatrix:s}=e,f=sn({DenseMatrix:s});return r(Yn,{"SparseMatrix, Array | Matrix":function(v,D){return h(v,D)},"DenseMatrix, Array | Matrix":function(v,D){return c(v,D)},"Array, Array | Matrix":function(v,D){var d=t(v),l=c(d,D);return l.valueOf()}});function c(o,v){v=f(o,v,!0);for(var D=v._data,d=o._size[0],l=o._size[1],g=[],w=o._data,A=l-1;A>=0;A--){var m=D[A][0]||0,E=void 0;if(a(m,0))E=0;else{var y=w[A][A];if(a(y,0))throw new Error("Linear system cannot be solved since matrix is singular");E=n(m,y);for(var p=A-1;p>=0;p--)D[p]=[u(D[p][0]||0,i(E,w[p][A]))]}g[A]=[E]}return new s({data:g,size:[d,1]})}function h(o,v){v=f(o,v,!0);for(var D=v._data,d=o._size[0],l=o._size[1],g=o._values,w=o._index,A=o._ptr,m=[],E=l-1;E>=0;E--){var y=D[E][0]||0;if(a(y,0))m[E]=[0];else{for(var p=0,_=[],F=[],C=A[E],B=A[E+1],b=B-1;b>=C;b--){var N=w[b];N===E?p=g[b]:N<E&&(_.push(g[b]),F.push(N))}if(a(p,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var R=n(y,p),O=0,P=F.length;O<P;O++){var x=F[O];D[x]=[u(D[x][0],i(R,_[O]))]}m[E]=[R]}}return new s({data:m,size:[d,1]})}}),Et="equal",Pf=["typed","matrix","equalScalar","DenseMatrix","SparseMatrix"],qf=W(Et,Pf,e=>{var{typed:r,matrix:t,equalScalar:n,DenseMatrix:i,concat:u,SparseMatrix:a}=e,s=rt({typed:r}),f=Ot({typed:r,SparseMatrix:a}),c=et({typed:r,DenseMatrix:i}),h=Vr({typed:r,matrix:t});return r(Et,Rf({typed:r,equalScalar:n}),h({elop:n,SS:f,DS:s,Ss:c}))}),Rf=W(Et,["typed","equalScalar"],e=>{var{typed:r,equalScalar:t}=e;return r(Et,{"any, any":function(i,u){return i===null?u===null:u===null?i===null:i===void 0?u===void 0:u===void 0?i===void 0:t(i,u)}})}),Ft="smaller",$f=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],Lf=W(Ft,$f,e=>{var{typed:r,config:t,bignumber:n,matrix:i,DenseMatrix:u,concat:a,SparseMatrix:s}=e,f=rt({typed:r}),c=Ot({typed:r,SparseMatrix:s}),h=et({typed:r,DenseMatrix:u}),o=Vr({typed:r,matrix:i,concat:a}),v=It({typed:r});function D(d,l){return d.lt(l)&&!zt(d,l,t.relTol,t.absTol)}return r(Ft,Uf({typed:r,config:t}),{"boolean, boolean":(d,l)=>d<l,"BigNumber, BigNumber":D,"bigint, bigint":(d,l)=>d<l,"Fraction, Fraction":(d,l)=>d.compare(l)===-1,"Fraction, BigNumber":function(l,g){return D(n(l),g)},"BigNumber, Fraction":function(l,g){return D(l,n(g))},"Complex, Complex":function(l,g){throw new TypeError("No ordering relation is defined for complex numbers")}},v,o({SS:c,DS:f,Ss:h}))}),Uf=W(Ft,["typed","config"],e=>{var{typed:r,config:t}=e;return r(Ft,{"number, number":function(i,u){return i<u&&!xr(i,u,t.relTol,t.absTol)}})}),Ct="larger",Hf=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],Zf=W(Ct,Hf,e=>{var{typed:r,config:t,bignumber:n,matrix:i,DenseMatrix:u,concat:a,SparseMatrix:s}=e,f=rt({typed:r}),c=Ot({typed:r,SparseMatrix:s}),h=et({typed:r,DenseMatrix:u}),o=Vr({typed:r,matrix:i,concat:a}),v=It({typed:r});function D(d,l){return d.gt(l)&&!zt(d,l,t.relTol,t.absTol)}return r(Ct,Vf({typed:r,config:t}),{"boolean, boolean":(d,l)=>d>l,"BigNumber, BigNumber":D,"bigint, bigint":(d,l)=>d>l,"Fraction, Fraction":(d,l)=>d.compare(l)===1,"Fraction, BigNumber":function(l,g){return D(n(l),g)},"BigNumber, Fraction":function(l,g){return D(l,n(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},v,o({SS:c,DS:f,Ss:h}))}),Vf=W(Ct,["typed","config"],e=>{var{typed:r,config:t}=e;return r(Ct,{"number, number":function(i,u){return i>u&&!xr(i,u,t.relTol,t.absTol)}})}),_t="largerEq",Yf=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],Jf=W(_t,Yf,e=>{var{typed:r,config:t,matrix:n,DenseMatrix:i,concat:u,SparseMatrix:a}=e,s=rt({typed:r}),f=Ot({typed:r,SparseMatrix:a}),c=et({typed:r,DenseMatrix:i}),h=Vr({typed:r,matrix:n,concat:u}),o=It({typed:r});return r(_t,Gf({typed:r,config:t}),{"boolean, boolean":(v,D)=>v>=D,"BigNumber, BigNumber":function(D,d){return D.gte(d)||zt(D,d,t.relTol,t.absTol)},"bigint, bigint":function(D,d){return D>=d},"Fraction, Fraction":(v,D)=>v.compare(D)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,h({SS:f,DS:s,Ss:c}))}),Gf=W(_t,["typed","config"],e=>{var{typed:r,config:t}=e;return r(_t,{"number, number":function(i,u){return i>=u||xr(i,u,t.relTol,t.absTol)}})}),Xf="FibonacciHeap",Kf=["smaller","larger"],Qf=W(Xf,Kf,e=>{var{smaller:r,larger:t}=e,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(h,o){var v={key:h,value:o,degree:0};if(this._minimum){var D=this._minimum;v.left=D,v.right=D.right,D.right=v,v.right.left=v,r(h,D.key)&&(this._minimum=v)}else v.left=v,v.right=v,this._minimum=v;return this._size++,v},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var h=this._minimum;if(h===null)return h;for(var o=this._minimum,v=h.degree,D=h.child;v>0;){var d=D.right;D.left.right=D.right,D.right.left=D.left,D.left=o,D.right=o.right,o.right=D,D.right.left=D,D.parent=null,D=d,v--}return h.left.right=h.right,h.right.left=h.left,h===h.right?o=null:(o=h.right,o=c(o,this._size)),this._size--,this._minimum=o,h},i.prototype.remove=function(h){this._minimum=u(this._minimum,h,-1),this.extractMinimum()};function u(h,o,v){o.key=v;var D=o.parent;return D&&r(o.key,D.key)&&(a(h,o,D),s(h,D)),r(o.key,h.key)&&(h=o),h}function a(h,o,v){o.left.right=o.right,o.right.left=o.left,v.degree--,v.child===o&&(v.child=o.right),v.degree===0&&(v.child=null),o.left=h,o.right=h.right,h.right=o,o.right.left=o,o.parent=null,o.mark=!1}function s(h,o){var v=o.parent;v&&(o.mark?(a(h,o,v),s(v)):o.mark=!0)}var f=function(o,v){o.left.right=o.right,o.right.left=o.left,o.parent=v,v.child?(o.left=v.child,o.right=v.child.right,v.child.right=o,o.right.left=o):(v.child=o,o.right=o,o.left=o),v.degree++,o.mark=!1};function c(h,o){var v=Math.floor(Math.log(o)*n)+1,D=new Array(v),d=0,l=h;if(l)for(d++,l=l.right;l!==h;)d++,l=l.right;for(var g;d>0;){for(var w=l.degree,A=l.right;g=D[w],!!g;){if(t(l.key,g.key)){var m=g;g=l,l=m}f(g,l),D[w]=null,w++}D[w]=l,l=A,d--}h=null;for(var E=0;E<v;E++)g=D[E],g&&(h?(g.left.right=g.right,g.right.left=g.left,g.left=h,g.right=h.right,h.right=g,g.right.left=g,r(g.key,h.key)&&(h=g)):h=g);return h}return i},{isClass:!0}),Wf="Spa",kf=["addScalar","equalScalar","FibonacciHeap"],jf=W(Wf,kf,e=>{var{addScalar:r,equalScalar:t,FibonacciHeap:n}=e;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(u,a){if(this._values[u])this._values[u].value=a;else{var s=this._heap.insert(u,a);this._values[u]=s}},i.prototype.get=function(u){var a=this._values[u];return a?a.value:0},i.prototype.accumulate=function(u,a){var s=this._values[u];s?s.value=r(s.value,a):(s=this._heap.insert(u,a),this._values[u]=s)},i.prototype.forEach=function(u,a,s){var f=this._heap,c=this._values,h=[],o=f.extractMinimum();for(o&&h.push(o);o&&o.key<=a;)o.key>=u&&(t(o.value,0)||s(o.key,o.value,this)),o=f.extractMinimum(),o&&h.push(o);for(var v=0;v<h.length;v++){var D=h[v];o=f.insert(D.key,D.value),c[o.key]=o}},i.prototype.swap=function(u,a){var s=this._values[u],f=this._values[a];if(!s&&f)s=this._heap.insert(u,f.value),this._heap.remove(f),this._values[u]=s,this._values[a]=void 0;else if(s&&!f)f=this._heap.insert(a,s.value),this._heap.remove(s),this._values[a]=f,this._values[u]=void 0;else if(s&&f){var c=s.value;s.value=f.value,f.value=c}},i},{isClass:!0}),Jn="add",ec=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],rc=W(Jn,ec,e=>{var{typed:r,matrix:t,addScalar:n,equalScalar:i,DenseMatrix:u,SparseMatrix:a,concat:s}=e,f=Zi({typed:r}),c=uf({typed:r,equalScalar:i}),h=Vi({typed:r,DenseMatrix:u}),o=Vr({typed:r,matrix:t,concat:s});return r(Jn,{"any, any":n,"any, any, ...any":r.referToSelf(v=>(D,d,l)=>{for(var g=v(D,d),w=0;w<l.length;w++)g=v(g,l[w]);return g})},o({elop:n,DS:f,SS:c,Ss:h}))}),Gn="dot",tc=["typed","addScalar","multiplyScalar","conj","size"],nc=W(Gn,tc,e=>{var{typed:r,addScalar:t,multiplyScalar:n,conj:i,size:u}=e;return r(Gn,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":f});function a(c,h){var o=u(c),v=u(h),D,d;if(o.length===1)D=o[0];else if(o.length===2&&o[1]===1)D=o[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+o.join(", ")+")");if(v.length===1)d=v[0];else if(v.length===2&&v[1]===1)d=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(D!==d)throw new RangeError("Vectors must have equal length ("+D+" != "+d+")");if(D===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return D}function s(c,h){var o=a(c,h),v=Ne(c)?c._data:c,D=Ne(c)?c._datatype||c.getDataType():void 0,d=Ne(h)?h._data:h,l=Ne(h)?h._datatype||h.getDataType():void 0,g=u(c).length===2,w=u(h).length===2,A=t,m=n;if(D&&l&&D===l&&typeof D=="string"&&D!=="mixed"){var E=D;A=r.find(t,[E,E]),m=r.find(n,[E,E])}if(!g&&!w){for(var y=m(i(v[0]),d[0]),p=1;p<o;p++)y=A(y,m(i(v[p]),d[p]));return y}if(!g&&w){for(var _=m(i(v[0]),d[0][0]),F=1;F<o;F++)_=A(_,m(i(v[F]),d[F][0]));return _}if(g&&!w){for(var C=m(i(v[0][0]),d[0]),B=1;B<o;B++)C=A(C,m(i(v[B][0]),d[B]));return C}if(g&&w){for(var b=m(i(v[0][0]),d[0][0]),N=1;N<o;N++)b=A(b,m(i(v[N][0]),d[N][0]));return b}}function f(c,h){a(c,h);for(var o=c._index,v=c._values,D=h._index,d=h._values,l=0,g=t,w=n,A=0,m=0;A<o.length&&m<D.length;){var E=o[A],y=D[m];if(E<y){A++;continue}if(E>y){m++;continue}E===y&&(l=g(l,w(v[A],d[m])),A++,m++)}return l}}),Xn="lup",ic=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],uc=W(Xn,ic,e=>{var{typed:r,matrix:t,abs:n,addScalar:i,divideScalar:u,multiplyScalar:a,subtractScalar:s,larger:f,equalScalar:c,unaryMinus:h,DenseMatrix:o,SparseMatrix:v,Spa:D}=e;return r(Xn,{DenseMatrix:function(w){return d(w)},SparseMatrix:function(w){return l(w)},Array:function(w){var A=t(w),m=d(A);return{L:m.L.valueOf(),U:m.U.valueOf(),p:m.p}}});function d(g){var w=g._size[0],A=g._size[1],m=Math.min(w,A),E=Se(g._data),y=[],p=[w,m],_=[],F=[m,A],C,B,b,N=[];for(C=0;C<w;C++)N[C]=C;for(B=0;B<A;B++){if(B>0)for(C=0;C<w;C++){var R=Math.min(C,B),O=0;for(b=0;b<R;b++)O=i(O,a(E[C][b],E[b][B]));E[C][B]=s(E[C][B],O)}var P=B,x=0,G=0;for(C=B;C<w;C++){var Z=E[C][B],I=n(Z);f(I,x)&&(P=C,x=I,G=Z)}if(B!==P&&(N[B]=[N[P],N[P]=N[B]][0],o._swapRows(B,P,E)),B<w)for(C=B+1;C<w;C++){var V=E[C][B];c(V,0)||(E[C][B]=u(E[C][B],G))}}for(B=0;B<A;B++)for(C=0;C<w;C++){if(B===0&&(C<A&&(_[C]=[]),y[C]=[]),C<B){C<A&&(_[C][B]=E[C][B]),B<w&&(y[C][B]=0);continue}if(C===B){C<A&&(_[C][B]=E[C][B]),B<w&&(y[C][B]=1);continue}C<A&&(_[C][B]=0),B<w&&(y[C][B]=E[C][B])}var Q=new o({data:y,size:p}),ae=new o({data:_,size:F}),ne=[];for(C=0,m=N.length;C<m;C++)ne[N[C]]=C;return{L:Q,U:ae,p:ne,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function l(g){var w=g._size[0],A=g._size[1],m=Math.min(w,A),E=g._values,y=g._index,p=g._ptr,_=[],F=[],C=[],B=[w,m],b=[],N=[],R=[],O=[m,A],P,x,G,Z=[],I=[];for(P=0;P<w;P++)Z[P]=P,I[P]=P;var V=function(ne,j){var de=I[ne],fe=I[j];Z[de]=j,Z[fe]=ne,I[ne]=fe,I[j]=de},Q=function(){var ne=new D;x<w&&(C.push(_.length),_.push(1),F.push(x)),R.push(b.length);var j=p[x],de=p[x+1];for(G=j;G<de;G++)P=y[G],ne.set(Z[P],E[G]);x>0&&ne.forEach(0,x-1,function(oe,re){v._forEachRow(oe,_,F,C,function(Ce,ye){Ce>oe&&ne.accumulate(Ce,h(a(ye,re)))})});var fe=x,ue=ne.get(x),le=n(ue);ne.forEach(x+1,w-1,function(oe,re){var Ce=n(re);f(Ce,le)&&(fe=oe,le=Ce,ue=re)}),x!==fe&&(v._swapRows(x,fe,B[1],_,F,C),v._swapRows(x,fe,O[1],b,N,R),ne.swap(x,fe),V(x,fe)),ne.forEach(0,w-1,function(oe,re){oe<=x?(b.push(re),N.push(oe)):(re=u(re,ue),c(re,0)||(_.push(re),F.push(oe)))})};for(x=0;x<A;x++)Q();return R.push(b.length),C.push(_.length),{L:new v({values:_,index:F,ptr:C,size:B}),U:new v({values:b,index:N,ptr:R,size:O}),p:Z,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});function ac(e,r,t,n){e._values;for(var i=e._index,u=e._ptr,a=e._size,s=e._datatype,f=a[0],c=a[1],h=null,o=[],v=[],D=0,d=0;d<c;d++){v[d]=D;for(var l=t?t[d]:d,g=u[l],w=u[l+1],A=g;A<w;A++){var m=i[A];o[D]=m,D++}}return v[c]=D,e.createSparseMatrix({values:h,index:o,ptr:v,size:[f,c],datatype:s})}function Yi(e,r,t,n,i,u,a){var s=0;for(t[a]=e;s>=0;){var f=t[a+s],c=t[n+f];c===-1?(s--,u[r++]=f):(t[n+f]=t[i+c],++s,t[a+s]=c)}return r}function oc(e,r){if(!e)return null;var t=0,n,i=[],u=[],a=0,s=r,f=2*r;for(n=0;n<r;n++)u[a+n]=-1;for(n=r-1;n>=0;n--)e[n]!==-1&&(u[s+n]=u[a+e[n]],u[a+e[n]]=n);for(n=0;n<r;n++)e[n]===-1&&(t=Yi(n,t,u,a,s,i,f));return i}function sc(e,r){if(!e)return null;var t=e._index,n=e._ptr,i=e._size,u=i[0],a=i[1],s=[],f=[],c=0,h=a,o,v;for(o=0;o<u;o++)f[h+o]=-1;for(var D=0;D<a;D++){s[D]=-1,f[c+D]=-1;for(var d=n[D],l=n[D+1],g=d;g<l;g++){var w=t[g];for(o=f[h+w];o!==-1&&o<D;o=v)v=f[c+o],f[c+o]=D,v===-1&&(s[o]=D);f[h+w]=D}}return s}function fc(e,r,t){for(var n=e._values,i=e._index,u=e._ptr,a=e._size,s=a[1],f=0,c=0;c<s;c++){var h=u[c];for(u[c]=f;h<u[c+1];h++)r(i[h],c,n?n[h]:1,t)&&(i[f]=i[h],n&&(n[f]=n[h]),f++)}return u[s]=f,i.splice(f,i.length-f),n&&n.splice(f,n.length-f),f}function Ar(e){return-e-2}var cc="csAmd",lc=["add","multiply","transpose"],hc=W(cc,lc,e=>{var{add:r,multiply:t,transpose:n}=e;return function(h,o){if(!o||h<=0||h>3)return null;var v=o._size,D=v[0],d=v[1],l=0,g=Math.max(16,10*Math.sqrt(d));g=Math.min(d-2,g);var w=i(h,o,D,d,g);fc(w,f,null);for(var A=w._index,m=w._ptr,E=m[d],y=[],p=[],_=0,F=d+1,C=2*(d+1),B=3*(d+1),b=4*(d+1),N=5*(d+1),R=6*(d+1),O=7*(d+1),P=y,x=u(d,m,p,_,B,P,C,O,F,R,b,N),G=a(d,m,p,N,b,R,g,F,B,P,C),Z=0,I,V,Q,ae,ne,j,de,fe,ue,le,oe,re,Ce,ye,se,ve;G<d;){for(Q=-1;Z<d&&(Q=p[B+Z])===-1;Z++);p[C+Q]!==-1&&(P[p[C+Q]]=-1),p[B+Z]=p[C+Q];var Me=p[b+Q],Ye=p[F+Q];G+=Ye;var $e=0;p[F+Q]=-Ye;var he=m[Q],Le=Me===0?he:E,ir=Le;for(ae=1;ae<=Me+1;ae++){for(ae>Me?(j=Q,de=he,fe=p[_+Q]-Me):(j=A[he++],de=m[j],fe=p[_+j]),ne=1;ne<=fe;ne++)I=A[de++],!((ue=p[F+I])<=0)&&($e+=ue,p[F+I]=-ue,A[ir++]=I,p[C+I]!==-1&&(P[p[C+I]]=P[I]),P[I]!==-1?p[C+P[I]]=p[C+I]:p[B+p[N+I]]=p[C+I]);j!==Q&&(m[j]=Ar(Q),p[R+j]=0)}for(Me!==0&&(E=ir),p[N+Q]=$e,m[Q]=Le,p[_+Q]=ir-Le,p[b+Q]=-2,x=s(x,l,p,R,d),le=Le;le<ir;le++)if(I=A[le],!((oe=p[b+I])<=0)){ue=-p[F+I];var Rt=x-ue;for(he=m[I],re=m[I]+oe-1;he<=re;he++)j=A[he],p[R+j]>=x?p[R+j]-=ue:p[R+j]!==0&&(p[R+j]=p[N+j]+Rt)}for(le=Le;le<ir;le++){for(I=A[le],re=m[I],Ce=re+p[b+I]-1,ye=re,se=0,ve=0,he=re;he<=Ce;he++)if(j=A[he],p[R+j]!==0){var Jr=p[R+j]-x;Jr>0?(ve+=Jr,A[ye++]=j,se+=j):(m[j]=Ar(Q),p[R+j]=0)}p[b+I]=ye-re+1;var S=ye,M=re+p[_+I];for(he=Ce+1;he<M;he++){V=A[he];var T=p[F+V];T<=0||(ve+=T,A[ye++]=V,se+=V)}ve===0?(m[I]=Ar(Q),ue=-p[F+I],$e-=ue,Ye+=ue,G+=ue,p[F+I]=0,p[b+I]=-1):(p[N+I]=Math.min(p[N+I],ve),A[ye]=A[S],A[S]=A[re],A[re]=Q,p[_+I]=ye-re+1,se=(se<0?-se:se)%d,p[C+I]=p[O+se],p[O+se]=I,P[I]=se)}for(p[N+Q]=$e,l=Math.max(l,$e),x=s(x+l,l,p,R,d),le=Le;le<ir;le++)if(I=A[le],!(p[F+I]>=0))for(se=P[I],I=p[O+se],p[O+se]=-1;I!==-1&&p[C+I]!==-1;I=p[C+I],x++){for(fe=p[_+I],oe=p[b+I],he=m[I]+1;he<=m[I]+fe-1;he++)p[R+A[he]]=x;var q=I;for(V=p[C+I];V!==-1;){var U=p[_+V]===fe&&p[b+V]===oe;for(he=m[V]+1;U&&he<=m[V]+fe-1;he++)p[R+A[he]]!==x&&(U=0);U?(m[V]=Ar(I),p[F+I]+=p[F+V],p[F+V]=0,p[b+V]=-1,V=p[C+V],p[C+q]=V):(q=V,V=p[C+V])}}for(he=Le,le=Le;le<ir;le++)I=A[le],!((ue=-p[F+I])<=0)&&(p[F+I]=ue,ve=p[N+I]+$e-ue,ve=Math.min(ve,d-G-ue),p[B+ve]!==-1&&(P[p[B+ve]]=I),p[C+I]=p[B+ve],P[I]=-1,p[B+ve]=I,Z=Math.min(Z,ve),p[N+I]=ve,A[he++]=I);p[F+Q]=Ye,(p[_+Q]=he-Le)===0&&(m[Q]=-1,p[R+Q]=0),Me!==0&&(E=he)}for(I=0;I<d;I++)m[I]=Ar(m[I]);for(V=0;V<=d;V++)p[B+V]=-1;for(V=d;V>=0;V--)p[F+V]>0||(p[C+V]=p[B+m[V]],p[B+m[V]]=V);for(j=d;j>=0;j--)p[F+j]<=0||m[j]!==-1&&(p[C+j]=p[B+m[j]],p[B+m[j]]=j);for(Q=0,I=0;I<=d;I++)m[I]===-1&&(Q=Yi(I,Q,p,B,C,y,R));return y.splice(y.length-1,1),y};function i(c,h,o,v,D){var d=n(h);if(c===1&&v===o)return r(h,d);if(c===2){for(var l=d._index,g=d._ptr,w=0,A=0;A<o;A++){var m=g[A];if(g[A]=w,!(g[A+1]-m>D))for(var E=g[A+1];m<E;m++)l[w++]=l[m]}return g[o]=w,h=n(d),t(d,h)}return t(d,h)}function u(c,h,o,v,D,d,l,g,w,A,m,E){for(var y=0;y<c;y++)o[v+y]=h[y+1]-h[y];o[v+c]=0;for(var p=0;p<=c;p++)o[D+p]=-1,d[p]=-1,o[l+p]=-1,o[g+p]=-1,o[w+p]=1,o[A+p]=1,o[m+p]=0,o[E+p]=o[v+p];var _=s(0,0,o,A,c);return o[m+c]=-2,h[c]=-1,o[A+c]=0,_}function a(c,h,o,v,D,d,l,g,w,A,m){for(var E=0,y=0;y<c;y++){var p=o[v+y];if(p===0)o[D+y]=-2,E++,h[y]=-1,o[d+y]=0;else if(p>l)o[g+y]=0,o[D+y]=-1,E++,h[y]=Ar(c),o[g+c]++;else{var _=o[w+p];_!==-1&&(A[_]=y),o[m+y]=o[w+p],o[w+p]=y}}return E}function s(c,h,o,v,D){if(c<2||c+h<0){for(var d=0;d<D;d++)o[v+d]!==0&&(o[v+d]=1);c=2}return c}function f(c,h){return c!==h}});function vc(e,r,t,n,i,u,a){var s,f,c=0,h;if(e<=r||t[n+r]<=t[i+e])return-1;t[i+e]=t[n+r];var o=t[u+e];if(t[u+e]=r,o===-1)c=1,h=e;else{for(c=2,h=o;h!==t[a+h];h=t[a+h]);for(s=o;s!==h;s=f)f=t[a+s],t[a+s]=h}return{jleaf:c,q:h}}var Dc="csCounts",pc=["transpose"],dc=W(Dc,pc,e=>{var{transpose:r}=e;return function(t,n,i,u){if(!t||!n||!i)return null;var a=t._size,s=a[0],f=a[1],c,h,o,v,D,d,l,g=4*f+(u?f+s+1:0),w=[],A=0,m=f,E=2*f,y=3*f,p=4*f,_=5*f+1;for(o=0;o<g;o++)w[o]=-1;var F=[],C=r(t),B=C._index,b=C._ptr;for(o=0;o<f;o++)for(h=i[o],F[h]=w[y+h]===-1?1:0;h!==-1&&w[y+h]===-1;h=n[h])w[y+h]=o;if(u){for(o=0;o<f;o++)w[i[o]]=o;for(c=0;c<s;c++){for(o=f,d=b[c],l=b[c+1],D=d;D<l;D++)o=Math.min(o,w[B[D]]);w[_+c]=w[p+o],w[p+o]=c}}for(c=0;c<f;c++)w[A+c]=c;for(o=0;o<f;o++){for(h=i[o],n[h]!==-1&&F[n[h]]--,v=u?w[p+o]:h;v!==-1;v=u?w[_+v]:-1)for(D=b[v];D<b[v+1];D++){c=B[D];var N=vc(c,h,w,y,m,E,A);N.jleaf>=1&&F[h]++,N.jleaf===2&&F[N.q]--}n[h]!==-1&&(w[A+h]=n[h])}for(h=0;h<f;h++)n[h]!==-1&&(F[n[h]]+=F[h]);return F}}),gc="csSqr",mc=["add","multiply","transpose"],wc=W(gc,mc,e=>{var{add:r,multiply:t,transpose:n}=e,i=hc({add:r,multiply:t,transpose:n}),u=dc({transpose:n});return function(f,c,h){var o=c._ptr,v=c._size,D=v[1],d,l={};if(l.q=i(f,c),f&&!l.q)return null;if(h){var g=f?ac(c,null,l.q):c;l.parent=sc(g);var w=oc(l.parent,D);if(l.cp=u(g,l.parent,w,1),g&&l.parent&&l.cp&&a(g,l))for(l.unz=0,d=0;d<D;d++)l.unz+=l.cp[d]}else l.unz=4*o[D]+D,l.lnz=l.unz;return l};function a(s,f){var c=s._ptr,h=s._index,o=s._size,v=o[0],D=o[1];f.pinv=[],f.leftmost=[];var d=f.parent,l=f.pinv,g=f.leftmost,w=[],A=0,m=v,E=v+D,y=v+2*D,p,_,F,C,B;for(_=0;_<D;_++)w[m+_]=-1,w[E+_]=-1,w[y+_]=0;for(p=0;p<v;p++)g[p]=-1;for(_=D-1;_>=0;_--)for(C=c[_],B=c[_+1],F=C;F<B;F++)g[h[F]]=_;for(p=v-1;p>=0;p--)l[p]=-1,_=g[p],_!==-1&&(w[y+_]++===0&&(w[E+_]=p),w[A+p]=w[m+_],w[m+_]=p);for(f.lnz=0,f.m2=v,_=0;_<D;_++)if(p=w[m+_],f.lnz++,p<0&&(p=f.m2++),l[p]=_,!(--y[_]<=0)){f.lnz+=w[y+_];var b=d[_];b!==-1&&(w[y+b]===0&&(w[E+b]=w[E+_]),w[A+w[E+_]]=w[m+b],w[m+b]=w[A+p],w[y+b]+=w[y+_])}for(p=0;p<v;p++)l[p]<0&&(l[p]=_++);return!0}});function Wt(e,r){return e[r]<0}function Ji(e,r){e[r]=Ar(e[r])}function Kn(e){return e<0?Ar(e):e}function yc(e,r,t,n,i){var u=r._index,a=r._ptr,s=r._size,f=s[1],c,h,o,v=0;for(n[0]=e;v>=0;){e=n[v];var D=i?i[e]:e;Wt(a,e)||(Ji(a,e),n[f+v]=D<0?0:Kn(a[D]));var d=1;for(h=n[f+v],o=D<0?0:Kn(a[D+1]);h<o;h++)if(c=u[h],!Wt(a,c)){n[f+v]=h,n[++v]=c,d=0;break}d&&(v--,n[--t]=e)}return t}function Ac(e,r,t,n,i){var u=e._ptr,a=e._size,s=r._index,f=r._ptr,c=a[1],h,o,v,D=c;for(o=f[t],v=f[t+1],h=o;h<v;h++){var d=s[h];Wt(u,d)||(D=yc(d,e,D,n,i))}for(h=D;h<c;h++)Ji(u,n[h]);return D}var Ec="csSpsolve",Fc=["divideScalar","multiply","subtract"],Cc=W(Ec,Fc,e=>{var{divideScalar:r,multiply:t,subtract:n}=e;return function(u,a,s,f,c,h,o){var v=u._values,D=u._index,d=u._ptr,l=u._size,g=l[1],w=a._values,A=a._index,m=a._ptr,E,y,p,_,F=Ac(u,a,s,f,h);for(E=F;E<g;E++)c[f[E]]=0;for(y=m[s],p=m[s+1],E=y;E<p;E++)c[A[E]]=w[E];for(var C=F;C<g;C++){var B=f[C],b=h?h[B]:B;if(!(b<0))for(y=d[b],p=d[b+1],c[B]=r(c[B],v[o?y:p-1]),E=o?y+1:y,_=o?p:p-1;E<_;E++){var N=D[E];c[N]=n(c[N],t(v[E],c[B]))}}return F}}),_c="csLu",Sc=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],Bc=W(_c,Sc,e=>{var{abs:r,divideScalar:t,multiply:n,subtract:i,larger:u,largerEq:a,SparseMatrix:s}=e,f=Cc({divideScalar:t,multiply:n,subtract:i});return function(h,o,v){if(!h)return null;var D=h._size,d=D[1],l,g=100,w=100;o&&(l=o.q,g=o.lnz||g,w=o.unz||w);var A=[],m=[],E=[],y=new s({values:A,index:m,ptr:E,size:[d,d]}),p=[],_=[],F=[],C=new s({values:p,index:_,ptr:F,size:[d,d]}),B=[],b,N,R=[],O=[];for(b=0;b<d;b++)R[b]=0,B[b]=-1,E[b+1]=0;g=0,w=0;for(var P=0;P<d;P++){E[P]=g,F[P]=w;var x=l?l[P]:P,G=f(y,h,x,O,R,B,1),Z=-1,I=-1;for(N=G;N<d;N++)if(b=O[N],B[b]<0){var V=r(R[b]);u(V,I)&&(I=V,Z=b)}else _[w]=B[b],p[w++]=R[b];if(Z===-1||I<=0)return null;B[x]<0&&a(r(R[x]),n(I,v))&&(Z=x);var Q=R[Z];for(_[w]=P,p[w++]=Q,B[Z]=P,m[g]=Z,A[g++]=1,N=G;N<d;N++)b=O[N],B[b]<0&&(m[g]=b,A[g++]=t(R[b],Q)),R[b]=0}for(E[d]=g,F[d]=w,N=0;N<g;N++)m[N]=B[m[N]];return A.splice(g,A.length-g),m.splice(g,m.length-g),p.splice(w,p.length-w),_.splice(w,_.length-w),{L:y,U:C,pinv:B}}}),Qn="slu",bc=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Mc=W(Qn,bc,e=>{var{typed:r,abs:t,add:n,multiply:i,transpose:u,divideScalar:a,subtract:s,larger:f,largerEq:c,SparseMatrix:h}=e,o=wc({add:n,multiply:i,transpose:u}),v=Bc({abs:t,divideScalar:a,multiply:i,subtract:s,larger:f,largerEq:c,SparseMatrix:h});return r(Qn,{"SparseMatrix, number, number":function(d,l,g){if(!Pe(l)||l<0||l>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var w=o(l,d,!1),A=v(d,w,g);return{L:A.L,U:A.U,p:A.pinv,q:w.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function Wn(e,r){var t,n=r.length,i=[];if(e)for(t=0;t<n;t++)i[e[t]]=r[t];else for(t=0;t<n;t++)i[t]=r[t];return i}var kn="lusolve",xc=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Nc=W(kn,xc,e=>{var{typed:r,matrix:t,lup:n,slu:i,usolve:u,lsolve:a,DenseMatrix:s}=e,f=sn({DenseMatrix:s});return r(kn,{"Array, Array | Matrix":function(v,D){v=t(v);var d=n(v),l=h(d.L,d.U,d.p,null,D);return l.valueOf()},"DenseMatrix, Array | Matrix":function(v,D){var d=n(v);return h(d.L,d.U,d.p,null,D)},"SparseMatrix, Array | Matrix":function(v,D){var d=n(v);return h(d.L,d.U,d.p,null,D)},"SparseMatrix, Array | Matrix, number, number":function(v,D,d,l){var g=i(v,d,l);return h(g.L,g.U,g.p,g.q,D)},"Object, Array | Matrix":function(v,D){return h(v.L,v.U,v.p,v.q,D)}});function c(o){if(Ne(o))return o;if(Be(o))return t(o);throw new TypeError("Invalid Matrix LU decomposition")}function h(o,v,D,d,l){o=c(o),v=c(v),D&&(l=f(o,l,!0),l._data=Wn(D,l._data));var g=a(o,l),w=u(v,g);return d&&(w._data=Wn(d,w._data)),w}}),Gi=bo({config:Nr}),Tc=zo({}),Xi=Uo({}),fn=Vo({}),nr=as({Matrix:fn,config:Nr}),ge=xa({BigNumber:Gi,Complex:Tc,DenseMatrix:nr,Fraction:Xi}),Ki=Ns({typed:ge}),tt=zs({typed:ge}),zc=mf({typed:ge}),mr=ls({config:Nr,typed:ge}),nt=cf({typed:ge}),Ic=ws({typed:ge}),Oc=Cf({typed:ge}),Br=Ds({Matrix:fn,equalScalar:mr,typed:ge}),Pt=Os({typed:ge}),cn=Es({BigNumber:Gi,typed:ge}),Pc=nc({addScalar:tt,conj:zc,multiplyScalar:nt,size:Oc,typed:ge}),ke=Bs({DenseMatrix:nr,Matrix:fn,SparseMatrix:Br,typed:ge}),qc=hf({addScalar:tt,dot:Pc,equalScalar:mr,matrix:ke,multiplyScalar:nt,typed:ge}),Rc=Sf({matrix:ke,typed:ge}),$c=qf({DenseMatrix:nr,SparseMatrix:Br,equalScalar:mr,matrix:ke,typed:ge}),Lc=_s({Fraction:Xi,typed:ge}),Uc=ss({equal:$c,typed:ge}),Hc=Mf({bignumber:cn,fraction:Lc,number:Ic}),Qi=Ms({typed:ge}),it=yf({isInteger:Uc,matrix:ke,typed:ge}),qt=Nf({numeric:Hc,typed:ge}),ln=Zf({DenseMatrix:nr,SparseMatrix:Br,bignumber:cn,concat:it,config:Nr,matrix:ke,typed:ge}),Zc=zf({DenseMatrix:nr,divideScalar:qt,equalScalar:mr,matrix:ke,multiplyScalar:nt,subtractScalar:Pt,typed:ge}),Vc=Lf({DenseMatrix:nr,SparseMatrix:Br,bignumber:cn,concat:it,config:Nr,matrix:ke,typed:ge}),Yc=Df({DenseMatrix:nr,concat:it,equalScalar:mr,matrix:ke,subtractScalar:Pt,typed:ge,unaryMinus:Qi}),Jc=Of({DenseMatrix:nr,divideScalar:qt,equalScalar:mr,matrix:ke,multiplyScalar:nt,subtractScalar:Pt,typed:ge}),Gc=rc({DenseMatrix:nr,SparseMatrix:Br,addScalar:tt,concat:it,equalScalar:mr,matrix:ke,typed:ge}),Xc=Qf({larger:ln,smaller:Vc}),Kc=Jf({DenseMatrix:nr,SparseMatrix:Br,concat:it,config:Nr,matrix:ke,typed:ge}),Qc=Mc({SparseMatrix:Br,abs:Ki,add:Gc,divideScalar:qt,larger:ln,largerEq:Kc,multiply:qc,subtract:Yc,transpose:Rc,typed:ge}),Wc=jf({FibonacciHeap:Xc,addScalar:tt,equalScalar:mr}),kc=uc({DenseMatrix:nr,Spa:Wc,SparseMatrix:Br,abs:Ki,addScalar:tt,divideScalar:qt,equalScalar:mr,larger:ln,matrix:ke,multiplyScalar:nt,subtractScalar:Pt,typed:ge,unaryMinus:Qi}),jc=Nc({DenseMatrix:nr,lsolve:Zc,lup:kc,matrix:ke,slu:Qc,typed:ge,usolve:Jc});const Ur=10**-6;function*el(e){function*r(t,n){if(t>e)throw new Error("n_players must be a positive integer");t===e?yield[...n]:(n.push(!0),yield*r(t+1,n),n.pop(),n.push(!1),yield*r(t+1,n),n.pop())}yield*r(0,[])}class Wi{constructor(r,t){if(r.length!==t.length)throw new Error("Outcome array and coefficient array have inconsistent shapes");this.coef_array=t,this.outcome_array=r}_poly_eval(r,t,n){if(this.outcome_array.length!==n.length)throw new Error("Outcome and coefficient array lengths are inconsistent");if(t.length!==r.length)throw new Error("Mask length is inconsistent with probs");let i=0;for(let u=0;u<n.length;u++){if(this.outcome_array[u].length!==r.length)throw new Error("Bad outcome length");let a=1;for(let s=0;s<r.length;s++)t[s]&&(this.outcome_array[u][s]?a*=r[s]:a*=1-r[s]);i+=n[u]*a}return i}eval(r){return this._poly_eval(r,Array(r.length).fill(!0),this.coef_array)}deriv(r){const t=[],n=Array(r.length).fill(!0);for(let i=0;i<r.length;i++){n[i]=!1;let u=[...this.coef_array];for(let a=0;a<this.outcome_array.length;a++)this.outcome_array[a][i]||(u[a]*=-1);t.push(this._poly_eval(r,n,u)),n[i]=!0}return t}}function St(e,r){const t=[],n=[];for(const i of el(e)){let u=0;for(const a of i)a&&(u+=1);t.push(r(u)),n.push(i)}return new Wi(n,t)}class ki{constructor(r){ot(this,"eat_value",r=>{if(r===0)return 6;if(r===1)return-1*(3*6/4);if(r===2)return-1*(2*6/4);if(r===3)return-1*(6/4);if(r===4)return this.cash_to_points_conversion;throw new Error("n_eaten does not have an allowed value")});ot(this,"not_eat_value",r=>{if(r===0)return-1*this.cash_to_points_conversion;if(r===1)return-1*(6/4);if(r===2)return 2*6/4;if(r===3)return 3*6/4;if(r===4)return 6;throw new Error("n_eaten does not have an allowed value")});this.cash_to_points_conversion=r}}ot(ki,"N_PLAYERS",5);function rl(e,r){if(e.coef_array.length!==r.coef_array.length)throw new Error("Inconsistent coefficient array lengths");const t=[],n=[];for(let i=0;i<e.coef_array.length;i++){n.push([]);for(let u=0;u<e.outcome_array[i].length;u++){if(e.outcome_array[i][u]!==r.outcome_array[i][u])throw new Error("Polynomials have inconsistent outcome arrays");n[i].push(e.outcome_array[i][u])}t.push(e.coef_array[i]+r.coef_array[i])}return new Wi(n,t)}function tl(e,r,t){function n(i){return-1*t(i)}return rl(St(e,r),St(e,n))}function Zt(e,r){const t=[],n=[];for(let i=0;i<e.length;i++){const u=e[i],a=r.slice(0,i).concat(r.slice(i+1,r.length));t.push(-1*u.eval(a));const s=u.deriv(a);n.push(s.slice(0,i).concat([0]).concat(s.slice(i,r.length)))}return[n,t]}function nl(e){const r=[],t=[],n=[];for(const i of e){const u=new ki(i),a=tl(e.length-1,u.eat_value,u.not_eat_value),s=St(e.length-1,u.eat_value),f=St(e.length-1,u.not_eat_value);r.push(a),t.push(s),n.push(f)}return[r,t,n]}function kt(e,r){const t=[];for(let n=0;n<e.length;n++)if(r[n]){let i=null;Array.isArray(e[n])?i=kt(e[n],r):i=e[n],t.push(i)}return t}function il(e,r,t){const i=Array(r.length).fill(!0);for(const D of t)i[D]=!1;const u=nl(e),a=u[0],s=u[1],f=u[2],c=[...r];let h=!1;for(let D=0;D<1e3;D++){const d=Zt(a,c),l=kt(d[0],i),g=kt(d[1],i);let w=!0;for(const E of g)if(Math.abs(E)>Ur){w=!1;break}if(w){h=!0;break}const A=jc(l,g);let m=0;for(let E=0;E<c.length;E++)i[E]&&(c[E]+=A[m][0],m++)}if(!h)throw new Error("Solution did not converge");const o=Zt(s,c),v=Zt(f,c);for(const D of[o[1],v[1]])for(let d=0;d<D.length;d++)D[d]*=-1;return[c,o[1],v[1]]}function ji(e,r,t){for(const a of r)if(t.includes(a))throw new Error("Overlap between zeros and ones");const i=t.concat(r),u=[];for(let a=0;a<100;a++){const s=[];for(let h=0;h<e.length;h++)s.push(Math.random());for(const h of r)s[h]=0;for(const h of t)s[h]=1;let f=null;try{f=il(e,s,i)}catch(h){console.log(h);continue}let c=!0;for(const h of f[0])if(h>1+Ur||h<0-Ur){c=!1;break}if(c){for(const h of u){let o=!0;for(let v=0;v<h[0].length;v++)if(Math.abs(h[0][v]-f[0][v])>Ur){o=!1;break}if(o){c=!1;break}}c&&u.push(f)}}return u}function eu(e,r,t){e[0];const n=e[1],i=e[2];let u=!0;for(const a of r)if(n[a]>i[a]+Ur){u=!1;break}if(!u)return!1;for(const a of t)if(i[a]>n[a]+Ur){u=!1;break}return u}function ul(e,r,t){const n=ji(e,r,t),i=[];for(const u of n)eu(u,r,t)&&i.push(u);return i}function jt(e,r,t,n){if(n.length===0)return ul(e,r,t);const i=n[n.length-1];n.pop(),r.push(i);let u=jt(e,r,t,n);return r.pop(),u.length>0?(n.push(i),u):(t.push(i),u=jt(e,r,t,n),t.pop(),n.push(i),u)}function ru(e,r,t){if(t===0)return jt(e,[],[],r);let n=0;if(r.length>0&&(n=Math.max(...r)+1),n>=e.length)return[];for(let i=n;i<e.length;i++){r.push(i);const u=ru(e,r,t-1);if(r.pop(),u.length>0)return u}return[]}function al(e){for(let r=0;r<=e.length;r++){const t=ru(e,[],r);if(t.length>0)return t}return[]}const Qe=["Ania Magliano","Maisie Adam","Phil Ellis","Reece Shearsmith","Sanjeev Bhaskar"],tu={};for(let e=0;e<Qe.length;e++)tu[Qe[e]]=e;const ol={"Ania Magliano":"imgs/Ania_Magliano.webp","Maisie Adam":"imgs/Maisie_Adam.jpg","Phil Ellis":"imgs/Phil_Ellis.webp","Reece Shearsmith":"imgs/Reece_Shearsmith.jpg","Sanjeev Bhaskar":"imgs/Sanjeev_Bhaskar.jpg"},hr={CHARACTER_SELECT:0,VALUE_SELECT:1,DUCK_CHOICE:2,RESULTS:3},sl=10,jn=0;let dr=hr.CHARACTER_SELECT,gr=null;const hn={};let vn=null,Kr=null;const rr=Array(Qe.length).fill(0),fr=Array(Qe.length).fill(0),Wr=Array(Qe.length).fill(0),Bt=Array(Qe.length).fill(0);function fl(){for(const e of[Wr,Bt])for(let r=0;r<e.length;r++)e[r]=0}function cl(e){gr=e,dr=hr.VALUE_SELECT,Yr()}function Dn(e){const r=document.createElement("div");return r.setAttribute("class","gametext"),r.textContent=e,r}function ll(e){e.innerHTML="";const r=Dn("Choose your character:");e.appendChild(r);const t=document.createElement("div");t.setAttribute("class","button-row");for(const n of Qe){const i=document.createElement("button");i.setAttribute("class","character_button"),i.innerHTML=`
            <img src="${ol[n]}" height="200" alt="${n}">
            <span class="polaroid-caption">${n}</span>
        `,i.addEventListener("click",()=>{cl(n)}),t.appendChild(i)}e.appendChild(t)}function ei(e,r){const t=document.createElement("div");t.setAttribute("class","value_input_container"),t.textContent=r;const n=document.createElement("input");n.setAttribute("type","range"),n.setAttribute("min","0"),n.setAttribute("max",sl.toString()),n.setAttribute("value",jn.toString()),n.setAttribute("class","value_slider"),n.setAttribute("id",e+"_value_input"),t.appendChild(n);const i=document.createElement("span");return i.textContent=jn.toString(),t.appendChild(i),n.oninput=()=>{i.textContent=n.value},t}function hl(){for(const e of Qe)hn[e]=document.getElementById(e+"_value_input").value;vn=Dl(),dr=hr.DUCK_CHOICE,Yr()}function vl(e){e.innerHTML="";let r=[];r.push("Your selected character is "+gr+"."),r.push("How many points would each character be willing to give up in exchange for 25?"),r.push("These values will be common knowledge for all players and will be used to determine each player's strategy.");for(const i of r){const u=Dn(i);e.appendChild(u)}let t=ei(gr,gr+" (You)");e.appendChild(t);for(const i of Qe)i!==gr&&(t=ei(i,i),e.appendChild(t));const n=document.createElement("button");n.textContent="Play game",n.addEventListener("click",hl),e.appendChild(n)}function Dl(){const e=[],r=[];for(let i=0;i<Qe.length;i++)e.push(parseInt(hn[Qe[i]])),r.push(i);const t=ji(e,[],r);if(t.length!==1)throw new Error("Something has gone wrong with potential solution finder");if(eu(t[0],[],r))return t[0][0];const n=al(e);if(console.log(n),n.length!==1)throw new Error("Not implemented this possibility yet");return n[0][0]}function pl(e){return Math.random()<e}function ri(e){const r=[];for(let n=0;n<Qe.length;n++)Qe[n]===gr?r.push(e):r.push(pl(vn[n]));Kr=r;let t=0;for(const n of r)n&&(t+=1);if(t===0)for(let n=0;n<fr.length;n++)rr[n]=0,fr[n]=-25;else if(t===1)for(let n=0;n<rr.length;n++)Kr[n]?(rr[n]=5,fr[n]=0):(rr[n]=-1,fr[n]=0);else if(t>1&&t<5)for(let n=0;n<rr.length;n++)Kr[n]?(rr[n]=-3,fr[n]=0):(rr[n]=3,fr[n]=0);else if(t===5)for(let n=0;n<rr.length;n++)rr[n]=-3,fr[n]=25;else throw new Error("Points logic is broken");for(let n=0;n<Wr.length;n++)Wr[n]+=rr[n],Bt[n]+=fr[n];console.log(Kr),console.log(rr),console.log(fr),console.log(Wr),console.log(Bt),dr=hr.RESULTS,Yr()}function dl(e){e.innerHTML="",console.log(hn),console.log(vn);const r=Dn("Make your choice now"),t=document.createElement("button");t.textContent="Eat the Lam Duck",t.addEventListener("click",()=>{ri(!0)});const n=document.createElement("button");n.textContent="Don't eat the Lam Duck",n.addEventListener("click",()=>{ri(!1)}),e.appendChild(r),e.appendChild(t),e.appendChild(n)}function We(e,r,t){const n=document.createElement(r);n.textContent=t,e.appendChild(n)}function ti(e){return e>=0?""+e.toString():"-"+Math.abs(e).toString()}function ni(e,r){const t=tu[e],n=document.createElement("tr");return We(n,"td",r),Kr[t]?We(n,"td","Eats"):We(n,"td","Doesn't eat"),We(n,"td",rr[t].toString()),We(n,"td",ti(fr[t])),We(n,"td",Wr[t].toString()),We(n,"td",ti(Bt[t])),n}function gl(){dr=hr.DUCK_CHOICE,Yr()}function ml(){fl(),dr=hr.CHARACTER_SELECT,Yr()}function wl(e){e.innerHTML="";const r=document.createElement("table"),t=document.createElement("tr");We(t,"th","Player"),We(t,"th","Move selected"),We(t,"th","Points received"),We(t,"th","Cash received"),We(t,"th","Total points so far"),We(t,"th","Total cash so far"),r.appendChild(t);const n=ni(gr,gr+" (You)");n.setAttribute("class","user-row"),r.appendChild(n);for(const s of Qe){if(s===gr)continue;const f=ni(s,s);r.appendChild(f)}e.appendChild(r);const i=document.createElement("div");i.setAttribute("class","button-row");const u=document.createElement("button");u.textContent="Play another round",u.addEventListener("click",gl),i.appendChild(u);const a=document.createElement("button");a.textContent="Reset",a.addEventListener("click",ml),i.appendChild(a),e.appendChild(i)}function Yr(){const e=document.getElementById("gamebox");if(dr===hr.CHARACTER_SELECT)ll(e);else if(dr===hr.VALUE_SELECT)vl(e);else if(dr===hr.DUCK_CHOICE)dl(e);else if(dr===hr.RESULTS)wl(e);else throw new Error("Unrecongized screen option")}Yr();
